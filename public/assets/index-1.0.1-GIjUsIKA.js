var $d=Object.defineProperty;var Gd=(u,h,o)=>h in u?$d(u,h,{enumerable:!0,configurable:!0,writable:!0,value:o}):u[h]=o;var Sr=(u,h,o)=>Gd(u,typeof h!="symbol"?h+"":h,o);(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const k of document.querySelectorAll('link[rel="modulepreload"]'))S(k);new MutationObserver(k=>{for(const j of k)if(j.type==="childList")for(const v of j.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&S(v)}).observe(document,{childList:!0,subtree:!0});function o(k){const j={};return k.integrity&&(j.integrity=k.integrity),k.referrerPolicy&&(j.referrerPolicy=k.referrerPolicy),k.crossOrigin==="use-credentials"?j.credentials="include":k.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function S(k){if(k.ep)return;k.ep=!0;const j=o(k);fetch(k.href,j)}})();function Gu(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Ca={exports:{}},Nr={},Ta={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ru;function Vd(){if(Ru)return me;Ru=1;var u=Symbol.for("react.element"),h=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),v=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),O=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),D=Symbol.iterator;function $(p){return p===null||typeof p!="object"?null:(p=D&&p[D]||p["@@iterator"],typeof p=="function"?p:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function _(p,C,fe){this.props=p,this.context=C,this.refs=N,this.updater=fe||Y}_.prototype.isReactComponent={},_.prototype.setState=function(p,C){if(typeof p!="object"&&typeof p!="function"&&p!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,C,"setState")},_.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};function se(){}se.prototype=_.prototype;function X(p,C,fe){this.props=p,this.context=C,this.refs=N,this.updater=fe||Y}var w=X.prototype=new se;w.constructor=X,A(w,_.prototype),w.isPureReactComponent=!0;var P=Array.isArray,z=Object.prototype.hasOwnProperty,V={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function G(p,C,fe){var he,ge={},ve=null,F=null;if(C!=null)for(he in C.ref!==void 0&&(F=C.ref),C.key!==void 0&&(ve=""+C.key),C)z.call(C,he)&&!ae.hasOwnProperty(he)&&(ge[he]=C[he]);var ee=arguments.length-2;if(ee===1)ge.children=fe;else if(1<ee){for(var pe=Array(ee),Ie=0;Ie<ee;Ie++)pe[Ie]=arguments[Ie+2];ge.children=pe}if(p&&p.defaultProps)for(he in ee=p.defaultProps,ee)ge[he]===void 0&&(ge[he]=ee[he]);return{$$typeof:u,type:p,key:ve,ref:F,props:ge,_owner:V.current}}function ne(p,C){return{$$typeof:u,type:p.type,key:C,ref:p.ref,props:p.props,_owner:p._owner}}function ce(p){return typeof p=="object"&&p!==null&&p.$$typeof===u}function ue(p){var C={"=":"=0",":":"=2"};return"$"+p.replace(/[=:]/g,function(fe){return C[fe]})}var xe=/\/+/g;function we(p,C){return typeof p=="object"&&p!==null&&p.key!=null?ue(""+p.key):C.toString(36)}function be(p,C,fe,he,ge){var ve=typeof p;(ve==="undefined"||ve==="boolean")&&(p=null);var F=!1;if(p===null)F=!0;else switch(ve){case"string":case"number":F=!0;break;case"object":switch(p.$$typeof){case u:case h:F=!0}}if(F)return F=p,ge=ge(F),p=he===""?"."+we(F,0):he,P(ge)?(fe="",p!=null&&(fe=p.replace(xe,"$&/")+"/"),be(ge,C,fe,"",function(Ie){return Ie})):ge!=null&&(ce(ge)&&(ge=ne(ge,fe+(!ge.key||F&&F.key===ge.key?"":(""+ge.key).replace(xe,"$&/")+"/")+p)),C.push(ge)),1;if(F=0,he=he===""?".":he+":",P(p))for(var ee=0;ee<p.length;ee++){ve=p[ee];var pe=he+we(ve,ee);F+=be(ve,C,fe,pe,ge)}else if(pe=$(p),typeof pe=="function")for(p=pe.call(p),ee=0;!(ve=p.next()).done;)ve=ve.value,pe=he+we(ve,ee++),F+=be(ve,C,fe,pe,ge);else if(ve==="object")throw C=String(p),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return F}function I(p,C,fe){if(p==null)return p;var he=[],ge=0;return be(p,he,"","",function(ve){return C.call(fe,ve,ge++)}),he}function Q(p){if(p._status===-1){var C=p._result;C=C(),C.then(function(fe){(p._status===0||p._status===-1)&&(p._status=1,p._result=fe)},function(fe){(p._status===0||p._status===-1)&&(p._status=2,p._result=fe)}),p._status===-1&&(p._status=0,p._result=C)}if(p._status===1)return p._result.default;throw p._result}var re={current:null},M={transition:null},q={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:M,ReactCurrentOwner:V};function W(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:I,forEach:function(p,C,fe){I(p,function(){C.apply(this,arguments)},fe)},count:function(p){var C=0;return I(p,function(){C++}),C},toArray:function(p){return I(p,function(C){return C})||[]},only:function(p){if(!ce(p))throw Error("React.Children.only expected to receive a single React element child.");return p}},me.Component=_,me.Fragment=o,me.Profiler=k,me.PureComponent=X,me.StrictMode=S,me.Suspense=x,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,me.act=W,me.cloneElement=function(p,C,fe){if(p==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+p+".");var he=A({},p.props),ge=p.key,ve=p.ref,F=p._owner;if(C!=null){if(C.ref!==void 0&&(ve=C.ref,F=V.current),C.key!==void 0&&(ge=""+C.key),p.type&&p.type.defaultProps)var ee=p.type.defaultProps;for(pe in C)z.call(C,pe)&&!ae.hasOwnProperty(pe)&&(he[pe]=C[pe]===void 0&&ee!==void 0?ee[pe]:C[pe])}var pe=arguments.length-2;if(pe===1)he.children=fe;else if(1<pe){ee=Array(pe);for(var Ie=0;Ie<pe;Ie++)ee[Ie]=arguments[Ie+2];he.children=ee}return{$$typeof:u,type:p.type,key:ge,ref:ve,props:he,_owner:F}},me.createContext=function(p){return p={$$typeof:v,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},p.Provider={$$typeof:j,_context:p},p.Consumer=p},me.createElement=G,me.createFactory=function(p){var C=G.bind(null,p);return C.type=p,C},me.createRef=function(){return{current:null}},me.forwardRef=function(p){return{$$typeof:L,render:p}},me.isValidElement=ce,me.lazy=function(p){return{$$typeof:B,_payload:{_status:-1,_result:p},_init:Q}},me.memo=function(p,C){return{$$typeof:O,type:p,compare:C===void 0?null:C}},me.startTransition=function(p){var C=M.transition;M.transition={};try{p()}finally{M.transition=C}},me.unstable_act=W,me.useCallback=function(p,C){return re.current.useCallback(p,C)},me.useContext=function(p){return re.current.useContext(p)},me.useDebugValue=function(){},me.useDeferredValue=function(p){return re.current.useDeferredValue(p)},me.useEffect=function(p,C){return re.current.useEffect(p,C)},me.useId=function(){return re.current.useId()},me.useImperativeHandle=function(p,C,fe){return re.current.useImperativeHandle(p,C,fe)},me.useInsertionEffect=function(p,C){return re.current.useInsertionEffect(p,C)},me.useLayoutEffect=function(p,C){return re.current.useLayoutEffect(p,C)},me.useMemo=function(p,C){return re.current.useMemo(p,C)},me.useReducer=function(p,C,fe){return re.current.useReducer(p,C,fe)},me.useRef=function(p){return re.current.useRef(p)},me.useState=function(p){return re.current.useState(p)},me.useSyncExternalStore=function(p,C,fe){return re.current.useSyncExternalStore(p,C,fe)},me.useTransition=function(){return re.current.useTransition()},me.version="18.3.1",me}var Pu;function Da(){return Pu||(Pu=1,Ta.exports=Vd()),Ta.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu;function Wd(){if(bu)return Nr;bu=1;var u=Da(),h=Symbol.for("react.element"),o=Symbol.for("react.fragment"),S=Object.prototype.hasOwnProperty,k=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j={key:!0,ref:!0,__self:!0,__source:!0};function v(L,x,O){var B,D={},$=null,Y=null;O!==void 0&&($=""+O),x.key!==void 0&&($=""+x.key),x.ref!==void 0&&(Y=x.ref);for(B in x)S.call(x,B)&&!j.hasOwnProperty(B)&&(D[B]=x[B]);if(L&&L.defaultProps)for(B in x=L.defaultProps,x)D[B]===void 0&&(D[B]=x[B]);return{$$typeof:h,type:L,key:$,ref:Y,props:D,_owner:k.current}}return Nr.Fragment=o,Nr.jsx=v,Nr.jsxs=v,Nr}var Du;function Hd(){return Du||(Du=1,Ca.exports=Wd()),Ca.exports}var s=Hd(),E=Da();const Qd=Gu(E);var Dl={},Ia={exports:{}},Ze={},Ra={exports:{}},Pa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au;function Kd(){return Au||(Au=1,(function(u){function h(M,q){var W=M.length;M.push(q);e:for(;0<W;){var p=W-1>>>1,C=M[p];if(0<k(C,q))M[p]=q,M[W]=C,W=p;else break e}}function o(M){return M.length===0?null:M[0]}function S(M){if(M.length===0)return null;var q=M[0],W=M.pop();if(W!==q){M[0]=W;e:for(var p=0,C=M.length,fe=C>>>1;p<fe;){var he=2*(p+1)-1,ge=M[he],ve=he+1,F=M[ve];if(0>k(ge,W))ve<C&&0>k(F,ge)?(M[p]=F,M[ve]=W,p=ve):(M[p]=ge,M[he]=W,p=he);else if(ve<C&&0>k(F,W))M[p]=F,M[ve]=W,p=ve;else break e}}return q}function k(M,q){var W=M.sortIndex-q.sortIndex;return W!==0?W:M.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var j=performance;u.unstable_now=function(){return j.now()}}else{var v=Date,L=v.now();u.unstable_now=function(){return v.now()-L}}var x=[],O=[],B=1,D=null,$=3,Y=!1,A=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var q=o(O);q!==null;){if(q.callback===null)S(O);else if(q.startTime<=M)S(O),q.sortIndex=q.expirationTime,h(x,q);else break;q=o(O)}}function P(M){if(N=!1,w(M),!A)if(o(x)!==null)A=!0,Q(z);else{var q=o(O);q!==null&&re(P,q.startTime-M)}}function z(M,q){A=!1,N&&(N=!1,se(G),G=-1),Y=!0;var W=$;try{for(w(q),D=o(x);D!==null&&(!(D.expirationTime>q)||M&&!ue());){var p=D.callback;if(typeof p=="function"){D.callback=null,$=D.priorityLevel;var C=p(D.expirationTime<=q);q=u.unstable_now(),typeof C=="function"?D.callback=C:D===o(x)&&S(x),w(q)}else S(x);D=o(x)}if(D!==null)var fe=!0;else{var he=o(O);he!==null&&re(P,he.startTime-q),fe=!1}return fe}finally{D=null,$=W,Y=!1}}var V=!1,ae=null,G=-1,ne=5,ce=-1;function ue(){return!(u.unstable_now()-ce<ne)}function xe(){if(ae!==null){var M=u.unstable_now();ce=M;var q=!0;try{q=ae(!0,M)}finally{q?we():(V=!1,ae=null)}}else V=!1}var we;if(typeof X=="function")we=function(){X(xe)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,I=be.port2;be.port1.onmessage=xe,we=function(){I.postMessage(null)}}else we=function(){_(xe,0)};function Q(M){ae=M,V||(V=!0,we())}function re(M,q){G=_(function(){M(u.unstable_now())},q)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(M){M.callback=null},u.unstable_continueExecution=function(){A||Y||(A=!0,Q(z))},u.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<M?Math.floor(1e3/M):5},u.unstable_getCurrentPriorityLevel=function(){return $},u.unstable_getFirstCallbackNode=function(){return o(x)},u.unstable_next=function(M){switch($){case 1:case 2:case 3:var q=3;break;default:q=$}var W=$;$=q;try{return M()}finally{$=W}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=$;$=M;try{return q()}finally{$=W}},u.unstable_scheduleCallback=function(M,q,W){var p=u.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?p+W:p):W=p,M){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=W+C,M={id:B++,callback:q,priorityLevel:M,startTime:W,expirationTime:C,sortIndex:-1},W>p?(M.sortIndex=W,h(O,M),o(x)===null&&M===o(O)&&(N?(se(G),G=-1):N=!0,re(P,W-p))):(M.sortIndex=C,h(x,M),A||Y||(A=!0,Q(z))),M},u.unstable_shouldYield=ue,u.unstable_wrapCallback=function(M){var q=$;return function(){var W=$;$=q;try{return M.apply(this,arguments)}finally{$=W}}}})(Pa)),Pa}var zu;function qd(){return zu||(zu=1,Ra.exports=Kd()),Ra.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fu;function Jd(){if(Fu)return Ze;Fu=1;var u=Da(),h=qd();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S=new Set,k={};function j(e,t){v(e,t),v(e+"Capture",t)}function v(e,t){for(k[e]=t,e=0;e<t.length;e++)S.add(t[e])}var L=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,O=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B={},D={};function $(e){return x.call(D,e)?!0:x.call(B,e)?!1:O.test(e)?D[e]=!0:(B[e]=!0,!1)}function Y(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,t,n,r){if(t===null||typeof t>"u"||Y(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,n,r,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){_[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){_[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){_[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){_[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){_[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var se=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(se,X);_[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(se,X);_[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(se,X);_[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){_[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),_.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){_[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function w(e,t,n,r){var l=_.hasOwnProperty(t)?_[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A(t,n,l,r)&&(n=null),r||l===null?$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var P=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),V=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),ue=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),M=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,p;function C(e){if(p===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);p=t&&t[1]||""}return`
`+p+e}var fe=!1;function he(e,t){if(!e||fe)return"";fe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(y){var r=y}Reflect.construct(e,[],t)}else{try{t.call()}catch(y){r=y}e.call(t.prototype)}else{try{throw Error()}catch(y){r=y}e()}}catch(y){if(y&&r&&typeof y.stack=="string"){for(var l=y.stack.split(`
`),a=r.stack.split(`
`),i=l.length-1,c=a.length-1;1<=i&&0<=c&&l[i]!==a[c];)c--;for(;1<=i&&0<=c;i--,c--)if(l[i]!==a[c]){if(i!==1||c!==1)do if(i--,c--,0>c||l[i]!==a[c]){var d=`
`+l[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=c);break}}}finally{fe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?C(e):""}function ge(e){switch(e.tag){case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case V:return"Portal";case ne:return"Profiler";case G:return"StrictMode";case we:return"Suspense";case be:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ue:return(e.displayName||"Context")+".Consumer";case ce:return(e._context.displayName||"Context")+".Provider";case xe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case Q:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}function F(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(t);case 8:return t===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ie(e){var t=pe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kr(e){e._valueTracker||(e._valueTracker=Ie(e))}function za(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Al(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ee(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oa(e,t){t=t.checked,t!=null&&w(e,"checked",t,!1)}function zl(e,t){Oa(e,t);var n=ee(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fl(e,t.type,ee(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ma(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fl(e,t,n){(t!=="number"||Er(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fn=Array.isArray;function fn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ee(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ol(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ua(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(Fn(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ee(n)}}function Ba(e,t){var n=ee(t.value),r=ee(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $a(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ga(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ml(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ga(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _r,Va=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_r.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function On(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hu=["Webkit","ms","Moz","O"];Object.keys(Mn).forEach(function(e){Hu.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mn[t]=Mn[e]})});function Wa(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mn.hasOwnProperty(e)&&Mn[e]?(""+t).trim():t+"px"}function Ha(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Wa(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Qu=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ul(e,t){if(t){if(Qu[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function Bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function Gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vl=null,pn=null,hn=null;function Qa(e){if(e=ir(e)){if(typeof Vl!="function")throw Error(o(280));var t=e.stateNode;t&&(t=qr(t),Vl(e.stateNode,e.type,t))}}function Ka(e){pn?hn?hn.push(e):hn=[e]:pn=e}function qa(){if(pn){var e=pn,t=hn;if(hn=pn=null,Qa(e),t)for(e=0;e<t.length;e++)Qa(t[e])}}function Ja(e,t){return e(t)}function Ya(){}var Wl=!1;function Xa(e,t,n){if(Wl)return e(t,n);Wl=!0;try{return Ja(e,t,n)}finally{Wl=!1,(pn!==null||hn!==null)&&(Ya(),qa())}}function Un(e,t){var n=e.stateNode;if(n===null)return null;var r=qr(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var Hl=!1;if(L)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{Hl=!1}function Ku(e,t,n,r,l,a,i,c,d){var y=Array.prototype.slice.call(arguments,3);try{t.apply(n,y)}catch(R){this.onError(R)}}var $n=!1,Lr=null,Cr=!1,Ql=null,qu={onError:function(e){$n=!0,Lr=e}};function Ju(e,t,n,r,l,a,i,c,d){$n=!1,Lr=null,Ku.apply(qu,arguments)}function Yu(e,t,n,r,l,a,i,c,d){if(Ju.apply(this,arguments),$n){if($n){var y=Lr;$n=!1,Lr=null}else throw Error(o(198));Cr||(Cr=!0,Ql=y)}}function Jt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Za(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ei(e){if(Jt(e)!==e)throw Error(o(188))}function Xu(e){var t=e.alternate;if(!t){if(t=Jt(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return ei(l),e;if(a===r)return ei(l),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=l,r=a;else{for(var i=!1,c=l.child;c;){if(c===n){i=!0,n=l,r=a;break}if(c===r){i=!0,r=l,n=a;break}c=c.sibling}if(!i){for(c=a.child;c;){if(c===n){i=!0,n=a,r=l;break}if(c===r){i=!0,r=a,n=l;break}c=c.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function ti(e){return e=Xu(e),e!==null?ni(e):null}function ni(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ni(e);if(t!==null)return t;e=e.sibling}return null}var ri=h.unstable_scheduleCallback,li=h.unstable_cancelCallback,Zu=h.unstable_shouldYield,ec=h.unstable_requestPaint,Re=h.unstable_now,tc=h.unstable_getCurrentPriorityLevel,Kl=h.unstable_ImmediatePriority,si=h.unstable_UserBlockingPriority,Tr=h.unstable_NormalPriority,nc=h.unstable_LowPriority,ai=h.unstable_IdlePriority,Ir=null,vt=null;function rc(e){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Ir,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:ac,lc=Math.log,sc=Math.LN2;function ac(e){return e>>>=0,e===0?32:31-(lc(e)/sc|0)|0}var Rr=64,Pr=4194304;function Gn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function br(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var c=i&~l;c!==0?r=Gn(c):(a&=i,a!==0&&(r=Gn(a)))}else i=n&~l,i!==0?r=Gn(i):a!==0&&(r=Gn(a));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ct(t),l=1<<n,r|=e[n],t&=~l;return r}function ic(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ct(a),c=1<<i,d=l[i];d===-1?((c&n)===0||(c&r)!==0)&&(l[i]=ic(c,t)):d<=t&&(e.expiredLanes|=c),a&=~c}}function ql(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ii(){var e=Rr;return Rr<<=1,(Rr&4194240)===0&&(Rr=64),e}function Jl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=n}function uc(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-ct(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function Yl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ct(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Se=0;function oi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ui,Xl,ci,di,fi,Zl=!1,Dr=[],It=null,Rt=null,Pt=null,Wn=new Map,Hn=new Map,bt=[],cc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pi(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Wn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(t.pointerId)}}function Qn(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=ir(t),t!==null&&Xl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function dc(e,t,n,r,l){switch(t){case"focusin":return It=Qn(It,e,t,n,r,l),!0;case"dragenter":return Rt=Qn(Rt,e,t,n,r,l),!0;case"mouseover":return Pt=Qn(Pt,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return Wn.set(a,Qn(Wn.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,Hn.set(a,Qn(Hn.get(a)||null,e,t,n,r,l)),!0}return!1}function hi(e){var t=Yt(e.target);if(t!==null){var n=Jt(t);if(n!==null){if(t=n.tag,t===13){if(t=Za(n),t!==null){e.blockedOn=t,fi(e.priority,function(){ci(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ar(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ts(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$l=r,n.target.dispatchEvent(r),$l=null}else return t=ir(n),t!==null&&Xl(t),e.blockedOn=n,!1;t.shift()}return!0}function mi(e,t,n){Ar(e)&&n.delete(t)}function fc(){Zl=!1,It!==null&&Ar(It)&&(It=null),Rt!==null&&Ar(Rt)&&(Rt=null),Pt!==null&&Ar(Pt)&&(Pt=null),Wn.forEach(mi),Hn.forEach(mi)}function Kn(e,t){e.blockedOn===t&&(e.blockedOn=null,Zl||(Zl=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,fc)))}function qn(e){function t(l){return Kn(l,e)}if(0<Dr.length){Kn(Dr[0],e);for(var n=1;n<Dr.length;n++){var r=Dr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(It!==null&&Kn(It,e),Rt!==null&&Kn(Rt,e),Pt!==null&&Kn(Pt,e),Wn.forEach(t),Hn.forEach(t),n=0;n<bt.length;n++)r=bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bt.length&&(n=bt[0],n.blockedOn===null);)hi(n),n.blockedOn===null&&bt.shift()}var mn=P.ReactCurrentBatchConfig,zr=!0;function pc(e,t,n,r){var l=Se,a=mn.transition;mn.transition=null;try{Se=1,es(e,t,n,r)}finally{Se=l,mn.transition=a}}function hc(e,t,n,r){var l=Se,a=mn.transition;mn.transition=null;try{Se=4,es(e,t,n,r)}finally{Se=l,mn.transition=a}}function es(e,t,n,r){if(zr){var l=ts(e,t,n,r);if(l===null)ys(e,t,r,Fr,n),pi(e,r);else if(dc(l,e,t,n,r))r.stopPropagation();else if(pi(e,r),t&4&&-1<cc.indexOf(e)){for(;l!==null;){var a=ir(l);if(a!==null&&ui(a),a=ts(e,t,n,r),a===null&&ys(e,t,r,Fr,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else ys(e,t,r,null,n)}}var Fr=null;function ts(e,t,n,r){if(Fr=null,e=Gl(r),e=Yt(e),e!==null)if(t=Jt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Za(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fr=e,null}function gi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tc()){case Kl:return 1;case si:return 4;case Tr:case nc:return 16;case ai:return 536870912;default:return 16}default:return 16}}var Dt=null,ns=null,Or=null;function vi(){if(Or)return Or;var e,t=ns,n=t.length,r,l="value"in Dt?Dt.value:Dt.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[a-r];r++);return Or=l.slice(e,1<r?1-r:void 0)}function Mr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ur(){return!0}function yi(){return!1}function et(e){function t(n,r,l,a,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ur:yi,this.isPropagationStopped=yi,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),t}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=et(gn),Jn=W({},gn,{view:0,detail:0}),mc=et(Jn),ls,ss,Yn,Br=W({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(ls=e.screenX-Yn.screenX,ss=e.screenY-Yn.screenY):ss=ls=0,Yn=e),ls)},movementY:function(e){return"movementY"in e?e.movementY:ss}}),xi=et(Br),gc=W({},Br,{dataTransfer:0}),vc=et(gc),yc=W({},Jn,{relatedTarget:0}),as=et(yc),xc=W({},gn,{animationName:0,elapsedTime:0,pseudoElement:0}),jc=et(xc),wc=W({},gn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sc=et(wc),Nc=W({},gn,{data:0}),ji=et(Nc),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_c[e])?!!t[e]:!1}function is(){return Lc}var Cc=W({},Jn,{key:function(e){if(e.key){var t=kc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ec[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(e){return e.type==="keypress"?Mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tc=et(Cc),Ic=W({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=et(Ic),Rc=W({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),Pc=et(Rc),bc=W({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dc=et(bc),Ac=W({},Br,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zc=et(Ac),Fc=[9,13,27,32],os=L&&"CompositionEvent"in window,Xn=null;L&&"documentMode"in document&&(Xn=document.documentMode);var Oc=L&&"TextEvent"in window&&!Xn,Si=L&&(!os||Xn&&8<Xn&&11>=Xn),Ni=" ",ki=!1;function Ei(e,t){switch(e){case"keyup":return Fc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _i(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function Mc(e,t){switch(e){case"compositionend":return _i(t);case"keypress":return t.which!==32?null:(ki=!0,Ni);case"textInput":return e=t.data,e===Ni&&ki?null:e;default:return null}}function Uc(e,t){if(vn)return e==="compositionend"||!os&&Ei(e,t)?(e=vi(),Or=ns=Dt=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Si&&t.locale!=="ko"?null:t.data;default:return null}}var Bc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Li(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bc[e.type]:t==="textarea"}function Ci(e,t,n,r){Ka(r),t=Hr(t,"onChange"),0<t.length&&(n=new rs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zn=null,er=null;function $c(e){Hi(e,0)}function $r(e){var t=Sn(e);if(za(t))return e}function Gc(e,t){if(e==="change")return t}var Ti=!1;if(L){var us;if(L){var cs="oninput"in document;if(!cs){var Ii=document.createElement("div");Ii.setAttribute("oninput","return;"),cs=typeof Ii.oninput=="function"}us=cs}else us=!1;Ti=us&&(!document.documentMode||9<document.documentMode)}function Ri(){Zn&&(Zn.detachEvent("onpropertychange",Pi),er=Zn=null)}function Pi(e){if(e.propertyName==="value"&&$r(er)){var t=[];Ci(t,er,e,Gl(e)),Xa($c,t)}}function Vc(e,t,n){e==="focusin"?(Ri(),Zn=t,er=n,Zn.attachEvent("onpropertychange",Pi)):e==="focusout"&&Ri()}function Wc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $r(er)}function Hc(e,t){if(e==="click")return $r(t)}function Qc(e,t){if(e==="input"||e==="change")return $r(t)}function Kc(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dt=typeof Object.is=="function"?Object.is:Kc;function tr(e,t){if(dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!x.call(t,l)||!dt(e[l],t[l]))return!1}return!0}function bi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Di(e,t){var n=bi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bi(n)}}function Ai(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ai(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zi(){for(var e=window,t=Er();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Er(e.document)}return t}function ds(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qc(e){var t=zi(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ai(n.ownerDocument.documentElement,n)){if(r!==null&&ds(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=Di(n,a);var i=Di(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jc=L&&"documentMode"in document&&11>=document.documentMode,yn=null,fs=null,nr=null,ps=!1;function Fi(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ps||yn==null||yn!==Er(r)||(r=yn,"selectionStart"in r&&ds(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nr&&tr(nr,r)||(nr=r,r=Hr(fs,"onSelect"),0<r.length&&(t=new rs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yn)))}function Gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xn={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionend:Gr("Transition","TransitionEnd")},hs={},Oi={};L&&(Oi=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);function Vr(e){if(hs[e])return hs[e];if(!xn[e])return e;var t=xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oi)return hs[e]=t[n];return e}var Mi=Vr("animationend"),Ui=Vr("animationiteration"),Bi=Vr("animationstart"),$i=Vr("transitionend"),Gi=new Map,Vi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function At(e,t){Gi.set(e,t),j(t,[e])}for(var ms=0;ms<Vi.length;ms++){var gs=Vi[ms],Yc=gs.toLowerCase(),Xc=gs[0].toUpperCase()+gs.slice(1);At(Yc,"on"+Xc)}At(Mi,"onAnimationEnd"),At(Ui,"onAnimationIteration"),At(Bi,"onAnimationStart"),At("dblclick","onDoubleClick"),At("focusin","onFocus"),At("focusout","onBlur"),At($i,"onTransitionEnd"),v("onMouseEnter",["mouseout","mouseover"]),v("onMouseLeave",["mouseout","mouseover"]),v("onPointerEnter",["pointerout","pointerover"]),v("onPointerLeave",["pointerout","pointerover"]),j("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),j("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),j("onBeforeInput",["compositionend","keypress","textInput","paste"]),j("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),j("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),j("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zc=new Set("cancel close invalid load scroll toggle".split(" ").concat(rr));function Wi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Yu(r,t,void 0,e),e.currentTarget=null}function Hi(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var c=r[i],d=c.instance,y=c.currentTarget;if(c=c.listener,d!==a&&l.isPropagationStopped())break e;Wi(l,c,y),a=d}else for(i=0;i<r.length;i++){if(c=r[i],d=c.instance,y=c.currentTarget,c=c.listener,d!==a&&l.isPropagationStopped())break e;Wi(l,c,y),a=d}}}if(Cr)throw e=Ql,Cr=!1,Ql=null,e}function ke(e,t){var n=t[ks];n===void 0&&(n=t[ks]=new Set);var r=e+"__bubble";n.has(r)||(Qi(t,e,2,!1),n.add(r))}function vs(e,t,n){var r=0;t&&(r|=4),Qi(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function lr(e){if(!e[Wr]){e[Wr]=!0,S.forEach(function(n){n!=="selectionchange"&&(Zc.has(n)||vs(n,!1,e),vs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wr]||(t[Wr]=!0,vs("selectionchange",!1,t))}}function Qi(e,t,n,r){switch(gi(t)){case 1:var l=pc;break;case 4:l=hc;break;default:l=es}n=l.bind(null,t,n,e),l=void 0,!Hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ys(e,t,n,r,l){var a=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var c=r.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===l||d.nodeType===8&&d.parentNode===l))return;i=i.return}for(;c!==null;){if(i=Yt(c),i===null)return;if(d=i.tag,d===5||d===6){r=a=i;continue e}c=c.parentNode}}r=r.return}Xa(function(){var y=a,R=Gl(n),b=[];e:{var T=Gi.get(e);if(T!==void 0){var H=rs,J=e;switch(e){case"keypress":if(Mr(n)===0)break e;case"keydown":case"keyup":H=Tc;break;case"focusin":J="focus",H=as;break;case"focusout":J="blur",H=as;break;case"beforeblur":case"afterblur":H=as;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Pc;break;case Mi:case Ui:case Bi:H=jc;break;case $i:H=Dc;break;case"scroll":H=mc;break;case"wheel":H=zc;break;case"copy":case"cut":case"paste":H=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=wi}var Z=(t&4)!==0,Pe=!Z&&e==="scroll",m=Z?T!==null?T+"Capture":null:T;Z=[];for(var f=y,g;f!==null;){g=f;var U=g.stateNode;if(g.tag===5&&U!==null&&(g=U,m!==null&&(U=Un(f,m),U!=null&&Z.push(sr(f,U,g)))),Pe)break;f=f.return}0<Z.length&&(T=new H(T,J,null,n,R),b.push({event:T,listeners:Z}))}}if((t&7)===0){e:{if(T=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",T&&n!==$l&&(J=n.relatedTarget||n.fromElement)&&(Yt(J)||J[St]))break e;if((H||T)&&(T=R.window===R?R:(T=R.ownerDocument)?T.defaultView||T.parentWindow:window,H?(J=n.relatedTarget||n.toElement,H=y,J=J?Yt(J):null,J!==null&&(Pe=Jt(J),J!==Pe||J.tag!==5&&J.tag!==6)&&(J=null)):(H=null,J=y),H!==J)){if(Z=xi,U="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(Z=wi,U="onPointerLeave",m="onPointerEnter",f="pointer"),Pe=H==null?T:Sn(H),g=J==null?T:Sn(J),T=new Z(U,f+"leave",H,n,R),T.target=Pe,T.relatedTarget=g,U=null,Yt(R)===y&&(Z=new Z(m,f+"enter",J,n,R),Z.target=g,Z.relatedTarget=Pe,U=Z),Pe=U,H&&J)t:{for(Z=H,m=J,f=0,g=Z;g;g=jn(g))f++;for(g=0,U=m;U;U=jn(U))g++;for(;0<f-g;)Z=jn(Z),f--;for(;0<g-f;)m=jn(m),g--;for(;f--;){if(Z===m||m!==null&&Z===m.alternate)break t;Z=jn(Z),m=jn(m)}Z=null}else Z=null;H!==null&&Ki(b,T,H,Z,!1),J!==null&&Pe!==null&&Ki(b,Pe,J,Z,!0)}}e:{if(T=y?Sn(y):window,H=T.nodeName&&T.nodeName.toLowerCase(),H==="select"||H==="input"&&T.type==="file")var te=Gc;else if(Li(T))if(Ti)te=Qc;else{te=Wc;var ie=Vc}else(H=T.nodeName)&&H.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(te=Hc);if(te&&(te=te(e,y))){Ci(b,te,n,R);break e}ie&&ie(e,T,y),e==="focusout"&&(ie=T._wrapperState)&&ie.controlled&&T.type==="number"&&Fl(T,"number",T.value)}switch(ie=y?Sn(y):window,e){case"focusin":(Li(ie)||ie.contentEditable==="true")&&(yn=ie,fs=y,nr=null);break;case"focusout":nr=fs=yn=null;break;case"mousedown":ps=!0;break;case"contextmenu":case"mouseup":case"dragend":ps=!1,Fi(b,n,R);break;case"selectionchange":if(Jc)break;case"keydown":case"keyup":Fi(b,n,R)}var oe;if(os)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else vn?Ei(e,n)&&(de="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(de="onCompositionStart");de&&(Si&&n.locale!=="ko"&&(vn||de!=="onCompositionStart"?de==="onCompositionEnd"&&vn&&(oe=vi()):(Dt=R,ns="value"in Dt?Dt.value:Dt.textContent,vn=!0)),ie=Hr(y,de),0<ie.length&&(de=new ji(de,e,null,n,R),b.push({event:de,listeners:ie}),oe?de.data=oe:(oe=_i(n),oe!==null&&(de.data=oe)))),(oe=Oc?Mc(e,n):Uc(e,n))&&(y=Hr(y,"onBeforeInput"),0<y.length&&(R=new ji("onBeforeInput","beforeinput",null,n,R),b.push({event:R,listeners:y}),R.data=oe))}Hi(b,t)})}function sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Un(e,n),a!=null&&r.unshift(sr(e,a,l)),a=Un(e,t),a!=null&&r.push(sr(e,a,l))),e=e.return}return r}function jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ki(e,t,n,r,l){for(var a=t._reactName,i=[];n!==null&&n!==r;){var c=n,d=c.alternate,y=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&y!==null&&(c=y,l?(d=Un(n,a),d!=null&&i.unshift(sr(n,d,c))):l||(d=Un(n,a),d!=null&&i.push(sr(n,d,c)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ed=/\r\n?/g,td=/\u0000|\uFFFD/g;function qi(e){return(typeof e=="string"?e:""+e).replace(ed,`
`).replace(td,"")}function Qr(e,t,n){if(t=qi(t),qi(e)!==t&&n)throw Error(o(425))}function Kr(){}var xs=null,js=null;function ws(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ss=typeof setTimeout=="function"?setTimeout:void 0,nd=typeof clearTimeout=="function"?clearTimeout:void 0,Ji=typeof Promise=="function"?Promise:void 0,rd=typeof queueMicrotask=="function"?queueMicrotask:typeof Ji<"u"?function(e){return Ji.resolve(null).then(e).catch(ld)}:Ss;function ld(e){setTimeout(function(){throw e})}function Ns(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),qn(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);qn(t)}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),yt="__reactFiber$"+wn,ar="__reactProps$"+wn,St="__reactContainer$"+wn,ks="__reactEvents$"+wn,sd="__reactListeners$"+wn,ad="__reactHandles$"+wn;function Yt(e){var t=e[yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[St]||n[yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yi(e);e!==null;){if(n=e[yt])return n;e=Yi(e)}return t}e=n,n=e.parentNode}return null}function ir(e){return e=e[yt]||e[St],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function qr(e){return e[ar]||null}var Es=[],Nn=-1;function Ft(e){return{current:e}}function Ee(e){0>Nn||(e.current=Es[Nn],Es[Nn]=null,Nn--)}function Ne(e,t){Nn++,Es[Nn]=e.current,e.current=t}var Ot={},$e=Ft(Ot),Ke=Ft(!1),Xt=Ot;function kn(e,t){var n=e.type.contextTypes;if(!n)return Ot;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function qe(e){return e=e.childContextTypes,e!=null}function Jr(){Ee(Ke),Ee($e)}function Xi(e,t,n){if($e.current!==Ot)throw Error(o(168));Ne($e,t),Ne(Ke,n)}function Zi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(o(108,F(e)||"Unknown",l));return W({},n,r)}function Yr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ot,Xt=$e.current,Ne($e,e),Ne(Ke,Ke.current),!0}function eo(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Zi(e,t,Xt),r.__reactInternalMemoizedMergedChildContext=e,Ee(Ke),Ee($e),Ne($e,e)):Ee(Ke),Ne(Ke,n)}var Nt=null,Xr=!1,_s=!1;function to(e){Nt===null?Nt=[e]:Nt.push(e)}function id(e){Xr=!0,to(e)}function Mt(){if(!_s&&Nt!==null){_s=!0;var e=0,t=Se;try{var n=Nt;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nt=null,Xr=!1}catch(l){throw Nt!==null&&(Nt=Nt.slice(e+1)),ri(Kl,Mt),l}finally{Se=t,_s=!1}}return null}var En=[],_n=0,Zr=null,el=0,lt=[],st=0,Zt=null,kt=1,Et="";function en(e,t){En[_n++]=el,En[_n++]=Zr,Zr=e,el=t}function no(e,t,n){lt[st++]=kt,lt[st++]=Et,lt[st++]=Zt,Zt=e;var r=kt;e=Et;var l=32-ct(r)-1;r&=~(1<<l),n+=1;var a=32-ct(t)+l;if(30<a){var i=l-l%5;a=(r&(1<<i)-1).toString(32),r>>=i,l-=i,kt=1<<32-ct(t)+l|n<<l|r,Et=a+e}else kt=1<<a|n<<l|r,Et=e}function Ls(e){e.return!==null&&(en(e,1),no(e,1,0))}function Cs(e){for(;e===Zr;)Zr=En[--_n],En[_n]=null,el=En[--_n],En[_n]=null;for(;e===Zt;)Zt=lt[--st],lt[st]=null,Et=lt[--st],lt[st]=null,kt=lt[--st],lt[st]=null}var tt=null,nt=null,_e=!1,ft=null;function ro(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,nt=zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zt!==null?{id:kt,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,nt=null,!0):!1;default:return!1}}function Ts(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Is(e){if(_e){var t=nt;if(t){var n=t;if(!lo(e,t)){if(Ts(e))throw Error(o(418));t=zt(n.nextSibling);var r=tt;t&&lo(e,t)?ro(r,n):(e.flags=e.flags&-4097|2,_e=!1,tt=e)}}else{if(Ts(e))throw Error(o(418));e.flags=e.flags&-4097|2,_e=!1,tt=e}}}function so(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function tl(e){if(e!==tt)return!1;if(!_e)return so(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ws(e.type,e.memoizedProps)),t&&(t=nt)){if(Ts(e))throw ao(),Error(o(418));for(;t;)ro(e,t),t=zt(t.nextSibling)}if(so(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nt=zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=tt?zt(e.stateNode.nextSibling):null;return!0}function ao(){for(var e=nt;e;)e=zt(e.nextSibling)}function Ln(){nt=tt=null,_e=!1}function Rs(e){ft===null?ft=[e]:ft.push(e)}var od=P.ReactCurrentBatchConfig;function or(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var c=l.refs;i===null?delete c[a]:c[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nl(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function io(e){var t=e._init;return t(e._payload)}function oo(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function l(m,f){return m=Qt(m,f),m.index=0,m.sibling=null,m}function a(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function c(m,f,g,U){return f===null||f.tag!==6?(f=Sa(g,m.mode,U),f.return=m,f):(f=l(f,g),f.return=m,f)}function d(m,f,g,U){var te=g.type;return te===ae?R(m,f,g.props.children,U,g.key):f!==null&&(f.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Q&&io(te)===f.type)?(U=l(f,g.props),U.ref=or(m,f,g),U.return=m,U):(U=_l(g.type,g.key,g.props,null,m.mode,U),U.ref=or(m,f,g),U.return=m,U)}function y(m,f,g,U){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Na(g,m.mode,U),f.return=m,f):(f=l(f,g.children||[]),f.return=m,f)}function R(m,f,g,U,te){return f===null||f.tag!==7?(f=un(g,m.mode,U,te),f.return=m,f):(f=l(f,g),f.return=m,f)}function b(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Sa(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case z:return g=_l(f.type,f.key,f.props,null,m.mode,g),g.ref=or(m,null,f),g.return=m,g;case V:return f=Na(f,m.mode,g),f.return=m,f;case Q:var U=f._init;return b(m,U(f._payload),g)}if(Fn(f)||q(f))return f=un(f,m.mode,g,null),f.return=m,f;nl(m,f)}return null}function T(m,f,g,U){var te=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return te!==null?null:c(m,f,""+g,U);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case z:return g.key===te?d(m,f,g,U):null;case V:return g.key===te?y(m,f,g,U):null;case Q:return te=g._init,T(m,f,te(g._payload),U)}if(Fn(g)||q(g))return te!==null?null:R(m,f,g,U,null);nl(m,g)}return null}function H(m,f,g,U,te){if(typeof U=="string"&&U!==""||typeof U=="number")return m=m.get(g)||null,c(f,m,""+U,te);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case z:return m=m.get(U.key===null?g:U.key)||null,d(f,m,U,te);case V:return m=m.get(U.key===null?g:U.key)||null,y(f,m,U,te);case Q:var ie=U._init;return H(m,f,g,ie(U._payload),te)}if(Fn(U)||q(U))return m=m.get(g)||null,R(f,m,U,te,null);nl(f,U)}return null}function J(m,f,g,U){for(var te=null,ie=null,oe=f,de=f=0,Me=null;oe!==null&&de<g.length;de++){oe.index>de?(Me=oe,oe=null):Me=oe.sibling;var je=T(m,oe,g[de],U);if(je===null){oe===null&&(oe=Me);break}e&&oe&&je.alternate===null&&t(m,oe),f=a(je,f,de),ie===null?te=je:ie.sibling=je,ie=je,oe=Me}if(de===g.length)return n(m,oe),_e&&en(m,de),te;if(oe===null){for(;de<g.length;de++)oe=b(m,g[de],U),oe!==null&&(f=a(oe,f,de),ie===null?te=oe:ie.sibling=oe,ie=oe);return _e&&en(m,de),te}for(oe=r(m,oe);de<g.length;de++)Me=H(oe,m,de,g[de],U),Me!==null&&(e&&Me.alternate!==null&&oe.delete(Me.key===null?de:Me.key),f=a(Me,f,de),ie===null?te=Me:ie.sibling=Me,ie=Me);return e&&oe.forEach(function(Kt){return t(m,Kt)}),_e&&en(m,de),te}function Z(m,f,g,U){var te=q(g);if(typeof te!="function")throw Error(o(150));if(g=te.call(g),g==null)throw Error(o(151));for(var ie=te=null,oe=f,de=f=0,Me=null,je=g.next();oe!==null&&!je.done;de++,je=g.next()){oe.index>de?(Me=oe,oe=null):Me=oe.sibling;var Kt=T(m,oe,je.value,U);if(Kt===null){oe===null&&(oe=Me);break}e&&oe&&Kt.alternate===null&&t(m,oe),f=a(Kt,f,de),ie===null?te=Kt:ie.sibling=Kt,ie=Kt,oe=Me}if(je.done)return n(m,oe),_e&&en(m,de),te;if(oe===null){for(;!je.done;de++,je=g.next())je=b(m,je.value,U),je!==null&&(f=a(je,f,de),ie===null?te=je:ie.sibling=je,ie=je);return _e&&en(m,de),te}for(oe=r(m,oe);!je.done;de++,je=g.next())je=H(oe,m,de,je.value,U),je!==null&&(e&&je.alternate!==null&&oe.delete(je.key===null?de:je.key),f=a(je,f,de),ie===null?te=je:ie.sibling=je,ie=je);return e&&oe.forEach(function(Bd){return t(m,Bd)}),_e&&en(m,de),te}function Pe(m,f,g,U){if(typeof g=="object"&&g!==null&&g.type===ae&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case z:e:{for(var te=g.key,ie=f;ie!==null;){if(ie.key===te){if(te=g.type,te===ae){if(ie.tag===7){n(m,ie.sibling),f=l(ie,g.props.children),f.return=m,m=f;break e}}else if(ie.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Q&&io(te)===ie.type){n(m,ie.sibling),f=l(ie,g.props),f.ref=or(m,ie,g),f.return=m,m=f;break e}n(m,ie);break}else t(m,ie);ie=ie.sibling}g.type===ae?(f=un(g.props.children,m.mode,U,g.key),f.return=m,m=f):(U=_l(g.type,g.key,g.props,null,m.mode,U),U.ref=or(m,f,g),U.return=m,m=U)}return i(m);case V:e:{for(ie=g.key;f!==null;){if(f.key===ie)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=l(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Na(g,m.mode,U),f.return=m,m=f}return i(m);case Q:return ie=g._init,Pe(m,f,ie(g._payload),U)}if(Fn(g))return J(m,f,g,U);if(q(g))return Z(m,f,g,U);nl(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=l(f,g),f.return=m,m=f):(n(m,f),f=Sa(g,m.mode,U),f.return=m,m=f),i(m)):n(m,f)}return Pe}var Cn=oo(!0),uo=oo(!1),rl=Ft(null),ll=null,Tn=null,Ps=null;function bs(){Ps=Tn=ll=null}function Ds(e){var t=rl.current;Ee(rl),e._currentValue=t}function As(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function In(e,t){ll=e,Ps=Tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Je=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(Ps!==e)if(e={context:e,memoizedValue:t,next:null},Tn===null){if(ll===null)throw Error(o(308));Tn=e,ll.dependencies={lanes:0,firstContext:e}}else Tn=Tn.next=e;return t}var tn=null;function zs(e){tn===null?tn=[e]:tn.push(e)}function co(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,zs(t)):(n.next=l.next,l.next=n),t.interleaved=n,_t(e,r)}function _t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ut=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ye&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,_t(e,n)}return l=r.interleaved,l===null?(t.next=t,zs(r)):(t.next=l.next,l.next=t),r.interleaved=t,_t(e,n)}function sl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yl(e,n)}}function po(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function al(e,t,n,r){var l=e.updateQueue;Ut=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var d=c,y=d.next;d.next=null,i===null?a=y:i.next=y,i=d;var R=e.alternate;R!==null&&(R=R.updateQueue,c=R.lastBaseUpdate,c!==i&&(c===null?R.firstBaseUpdate=y:c.next=y,R.lastBaseUpdate=d))}if(a!==null){var b=l.baseState;i=0,R=y=d=null,c=a;do{var T=c.lane,H=c.eventTime;if((r&T)===T){R!==null&&(R=R.next={eventTime:H,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var J=e,Z=c;switch(T=t,H=n,Z.tag){case 1:if(J=Z.payload,typeof J=="function"){b=J.call(H,b,T);break e}b=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=Z.payload,T=typeof J=="function"?J.call(H,b,T):J,T==null)break e;b=W({},b,T);break e;case 2:Ut=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,T=l.effects,T===null?l.effects=[c]:T.push(c))}else H={eventTime:H,lane:T,tag:c.tag,payload:c.payload,callback:c.callback,next:null},R===null?(y=R=H,d=b):R=R.next=H,i|=T;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;T=c,c=T.next,T.next=null,l.lastBaseUpdate=T,l.shared.pending=null}}while(!0);if(R===null&&(d=b),l.baseState=d,l.firstBaseUpdate=y,l.lastBaseUpdate=R,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);ln|=i,e.lanes=i,e.memoizedState=b}}function ho(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(o(191,l));l.call(r)}}}var ur={},xt=Ft(ur),cr=Ft(ur),dr=Ft(ur);function nn(e){if(e===ur)throw Error(o(174));return e}function Os(e,t){switch(Ne(dr,t),Ne(cr,e),Ne(xt,ur),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ml(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ml(t,e)}Ee(xt),Ne(xt,t)}function Rn(){Ee(xt),Ee(cr),Ee(dr)}function mo(e){nn(dr.current);var t=nn(xt.current),n=Ml(t,e.type);t!==n&&(Ne(cr,e),Ne(xt,n))}function Ms(e){cr.current===e&&(Ee(xt),Ee(cr))}var Le=Ft(0);function il(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Us=[];function Bs(){for(var e=0;e<Us.length;e++)Us[e]._workInProgressVersionPrimary=null;Us.length=0}var ol=P.ReactCurrentDispatcher,$s=P.ReactCurrentBatchConfig,rn=0,Ce=null,Ae=null,Fe=null,ul=!1,fr=!1,pr=0,ud=0;function Ge(){throw Error(o(321))}function Gs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dt(e[n],t[n]))return!1;return!0}function Vs(e,t,n,r,l,a){if(rn=a,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ol.current=e===null||e.memoizedState===null?pd:hd,e=n(r,l),fr){a=0;do{if(fr=!1,pr=0,25<=a)throw Error(o(301));a+=1,Fe=Ae=null,t.updateQueue=null,ol.current=md,e=n(r,l)}while(fr)}if(ol.current=fl,t=Ae!==null&&Ae.next!==null,rn=0,Fe=Ae=Ce=null,ul=!1,t)throw Error(o(300));return e}function Ws(){var e=pr!==0;return pr=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Ce.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function it(){if(Ae===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Fe===null?Ce.memoizedState:Fe.next;if(t!==null)Fe=t,Ae=e;else{if(e===null)throw Error(o(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Fe===null?Ce.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function hr(e,t){return typeof t=="function"?t(e):t}function Hs(e){var t=it(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=Ae,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var c=i=null,d=null,y=a;do{var R=y.lane;if((rn&R)===R)d!==null&&(d=d.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),r=y.hasEagerState?y.eagerState:e(r,y.action);else{var b={lane:R,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};d===null?(c=d=b,i=r):d=d.next=b,Ce.lanes|=R,ln|=R}y=y.next}while(y!==null&&y!==a);d===null?i=r:d.next=c,dt(r,t.memoizedState)||(Je=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,Ce.lanes|=a,ln|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qs(e){var t=it(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);dt(a,t.memoizedState)||(Je=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function go(){}function vo(e,t){var n=Ce,r=it(),l=t(),a=!dt(r.memoizedState,l);if(a&&(r.memoizedState=l,Je=!0),r=r.queue,Ks(jo.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,mr(9,xo.bind(null,n,r,l,t),void 0,null),Oe===null)throw Error(o(349));(rn&30)!==0||yo(n,t,l)}return l}function yo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xo(e,t,n,r){t.value=n,t.getSnapshot=r,wo(t)&&So(e)}function jo(e,t,n){return n(function(){wo(t)&&So(e)})}function wo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dt(e,n)}catch{return!0}}function So(e){var t=_t(e,1);t!==null&&gt(t,e,1,-1)}function No(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:e},t.queue=e,e=e.dispatch=fd.bind(null,Ce,e),[t.memoizedState,e]}function mr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ko(){return it().memoizedState}function cl(e,t,n,r){var l=jt();Ce.flags|=e,l.memoizedState=mr(1|t,n,void 0,r===void 0?null:r)}function dl(e,t,n,r){var l=it();r=r===void 0?null:r;var a=void 0;if(Ae!==null){var i=Ae.memoizedState;if(a=i.destroy,r!==null&&Gs(r,i.deps)){l.memoizedState=mr(t,n,a,r);return}}Ce.flags|=e,l.memoizedState=mr(1|t,n,a,r)}function Eo(e,t){return cl(8390656,8,e,t)}function Ks(e,t){return dl(2048,8,e,t)}function _o(e,t){return dl(4,2,e,t)}function Lo(e,t){return dl(4,4,e,t)}function Co(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function To(e,t,n){return n=n!=null?n.concat([e]):null,dl(4,4,Co.bind(null,t,e),n)}function qs(){}function Io(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ro(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Po(e,t,n){return(rn&21)===0?(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n):(dt(n,t)||(n=ii(),Ce.lanes|=n,ln|=n,e.baseState=!0),t)}function cd(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=$s.transition;$s.transition={};try{e(!1),t()}finally{Se=n,$s.transition=r}}function bo(){return it().memoizedState}function dd(e,t,n){var r=Wt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Do(e))Ao(t,n);else if(n=co(e,t,n,r),n!==null){var l=Qe();gt(n,e,r,l),zo(n,t,r)}}function fd(e,t,n){var r=Wt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Do(e))Ao(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,c=a(i,n);if(l.hasEagerState=!0,l.eagerState=c,dt(c,i)){var d=t.interleaved;d===null?(l.next=l,zs(t)):(l.next=d.next,d.next=l),t.interleaved=l;return}}catch{}finally{}n=co(e,t,l,r),n!==null&&(l=Qe(),gt(n,e,r,l),zo(n,t,r))}}function Do(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Ao(e,t){fr=ul=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zo(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yl(e,n)}}var fl={readContext:at,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},pd={readContext:at,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:Eo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,cl(4194308,4,Co.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return cl(4,2,e,t)},useMemo:function(e,t){var n=jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=dd.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:No,useDebugValue:qs,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=cd.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,l=jt();if(_e){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Oe===null)throw Error(o(349));(rn&30)!==0||yo(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Eo(jo.bind(null,r,a,e),[e]),r.flags|=2048,mr(9,xo.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=jt(),t=Oe.identifierPrefix;if(_e){var n=Et,r=kt;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ud++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hd={readContext:at,useCallback:Io,useContext:at,useEffect:Ks,useImperativeHandle:To,useInsertionEffect:_o,useLayoutEffect:Lo,useMemo:Ro,useReducer:Hs,useRef:ko,useState:function(){return Hs(hr)},useDebugValue:qs,useDeferredValue:function(e){var t=it();return Po(t,Ae.memoizedState,e)},useTransition:function(){var e=Hs(hr)[0],t=it().memoizedState;return[e,t]},useMutableSource:go,useSyncExternalStore:vo,useId:bo,unstable_isNewReconciler:!1},md={readContext:at,useCallback:Io,useContext:at,useEffect:Ks,useImperativeHandle:To,useInsertionEffect:_o,useLayoutEffect:Lo,useMemo:Ro,useReducer:Qs,useRef:ko,useState:function(){return Qs(hr)},useDebugValue:qs,useDeferredValue:function(e){var t=it();return Ae===null?t.memoizedState=e:Po(t,Ae.memoizedState,e)},useTransition:function(){var e=Qs(hr)[0],t=it().memoizedState;return[e,t]},useMutableSource:go,useSyncExternalStore:vo,useId:bo,unstable_isNewReconciler:!1};function pt(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Js(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:W({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pl={isMounted:function(e){return(e=e._reactInternals)?Jt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qe(),l=Wt(e),a=Lt(r,l);a.payload=t,n!=null&&(a.callback=n),t=Bt(e,a,l),t!==null&&(gt(t,e,l,r),sl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qe(),l=Wt(e),a=Lt(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Bt(e,a,l),t!==null&&(gt(t,e,l,r),sl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qe(),r=Wt(e),l=Lt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Bt(e,l,r),t!==null&&(gt(t,e,r,n),sl(t,e,r))}};function Fo(e,t,n,r,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!tr(n,r)||!tr(l,a):!0}function Oo(e,t,n){var r=!1,l=Ot,a=t.contextType;return typeof a=="object"&&a!==null?a=at(a):(l=qe(t)?Xt:$e.current,r=t.contextTypes,a=(r=r!=null)?kn(e,l):Ot),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function Mo(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function Ys(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Fs(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=at(a):(a=qe(t)?Xt:$e.current,l.context=kn(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Js(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&pl.enqueueReplaceState(l,l.state,null),al(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Pn(e,t){try{var n="",r=t;do n+=ge(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function Xs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gd=typeof WeakMap=="function"?WeakMap:Map;function Uo(e,t,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jl||(jl=!0,ha=r),Zs(e,t)},n}function Bo(e,t,n){n=Lt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Zs(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Zs(e,t),typeof r!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function $o(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gd;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Id.bind(null,e,t,n),t.then(e,e))}function Go(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vo(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Lt(-1,1),t.tag=2,Bt(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var vd=P.ReactCurrentOwner,Je=!1;function He(e,t,n,r){t.child=e===null?uo(t,null,n,r):Cn(t,e.child,n,r)}function Wo(e,t,n,r,l){n=n.render;var a=t.ref;return In(t,l),r=Vs(e,t,n,r,a,l),n=Ws(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ct(e,t,l)):(_e&&n&&Ls(t),t.flags|=1,He(e,t,r,l),t.child)}function Ho(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!wa(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Qo(e,t,a,r,l)):(e=_l(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&l)===0){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:tr,n(i,r)&&e.ref===t.ref)return Ct(e,t,l)}return t.flags|=1,e=Qt(a,r),e.ref=t.ref,e.return=t,t.child=e}function Qo(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(tr(a,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=a,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,Ct(e,t,l)}return ea(e,t,n,r,l)}function Ko(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Dn,rt),rt|=n;else{if((n&1073741824)===0)return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Dn,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ne(Dn,rt),rt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ne(Dn,rt),rt|=r;return He(e,t,l,n),t.child}function qo(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ea(e,t,n,r,l){var a=qe(n)?Xt:$e.current;return a=kn(t,a),In(t,l),n=Vs(e,t,n,r,a,l),r=Ws(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ct(e,t,l)):(_e&&r&&Ls(t),t.flags|=1,He(e,t,n,l),t.child)}function Jo(e,t,n,r,l){if(qe(n)){var a=!0;Yr(t)}else a=!1;if(In(t,l),t.stateNode===null)ml(e,t),Oo(t,n,r),Ys(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,c=t.memoizedProps;i.props=c;var d=i.context,y=n.contextType;typeof y=="object"&&y!==null?y=at(y):(y=qe(n)?Xt:$e.current,y=kn(t,y));var R=n.getDerivedStateFromProps,b=typeof R=="function"||typeof i.getSnapshotBeforeUpdate=="function";b||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==r||d!==y)&&Mo(t,i,r,y),Ut=!1;var T=t.memoizedState;i.state=T,al(t,r,i,l),d=t.memoizedState,c!==r||T!==d||Ke.current||Ut?(typeof R=="function"&&(Js(t,n,R,r),d=t.memoizedState),(c=Ut||Fo(t,n,c,r,T,d,y))?(b||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),i.props=r,i.state=d,i.context=y,r=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,fo(e,t),c=t.memoizedProps,y=t.type===t.elementType?c:pt(t.type,c),i.props=y,b=t.pendingProps,T=i.context,d=n.contextType,typeof d=="object"&&d!==null?d=at(d):(d=qe(n)?Xt:$e.current,d=kn(t,d));var H=n.getDerivedStateFromProps;(R=typeof H=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==b||T!==d)&&Mo(t,i,r,d),Ut=!1,T=t.memoizedState,i.state=T,al(t,r,i,l);var J=t.memoizedState;c!==b||T!==J||Ke.current||Ut?(typeof H=="function"&&(Js(t,n,H,r),J=t.memoizedState),(y=Ut||Fo(t,n,y,r,T,J,d)||!1)?(R||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,J,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,J,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=J),i.props=r,i.state=J,i.context=d,r=y):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),r=!1)}return ta(e,t,n,r,a,l)}function ta(e,t,n,r,l,a){qo(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&eo(t,n,!1),Ct(e,t,a);r=t.stateNode,vd.current=t;var c=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Cn(t,e.child,null,a),t.child=Cn(t,null,c,a)):He(e,t,c,a),t.memoizedState=r.state,l&&eo(t,n,!0),t.child}function Yo(e){var t=e.stateNode;t.pendingContext?Xi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xi(e,t.context,!1),Os(e,t.containerInfo)}function Xo(e,t,n,r,l){return Ln(),Rs(l),t.flags|=256,He(e,t,n,r),t.child}var na={dehydrated:null,treeContext:null,retryLane:0};function ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zo(e,t,n){var r=t.pendingProps,l=Le.current,a=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(l&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ne(Le,l&1),e===null)return Is(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},(r&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Ll(i,r,0,null),e=un(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ra(n),t.memoizedState=na,e):la(t,i));if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return yd(e,t,i,r,c,l,n);if(a){a=r.fallback,i=t.mode,l=e.child,c=l.sibling;var d={mode:"hidden",children:r.children};return(i&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Qt(l,d),r.subtreeFlags=l.subtreeFlags&14680064),c!==null?a=Qt(c,a):(a=un(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?ra(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=na,r}return a=e.child,e=a.sibling,r=Qt(a,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function la(e,t){return t=Ll({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hl(e,t,n,r){return r!==null&&Rs(r),Cn(t,e.child,null,n),e=la(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yd(e,t,n,r,l,a,i){if(n)return t.flags&256?(t.flags&=-257,r=Xs(Error(o(422))),hl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=Ll({mode:"visible",children:r.children},l,0,null),a=un(a,l,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,(t.mode&1)!==0&&Cn(t,e.child,null,i),t.child.memoizedState=ra(i),t.memoizedState=na,a);if((t.mode&1)===0)return hl(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(o(419)),r=Xs(a,r,void 0),hl(e,t,i,r)}if(c=(i&e.childLanes)!==0,Je||c){if(r=Oe,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|i))!==0?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,_t(e,l),gt(r,e,l,-1))}return ja(),r=Xs(Error(o(421))),hl(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Rd.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,nt=zt(l.nextSibling),tt=t,_e=!0,ft=null,e!==null&&(lt[st++]=kt,lt[st++]=Et,lt[st++]=Zt,kt=e.id,Et=e.overflow,Zt=t),t=la(t,r.children),t.flags|=4096,t)}function eu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),As(e.return,t,n)}function sa(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function tu(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(He(e,t,r.children,n),r=Le.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eu(e,n,t);else if(e.tag===19)eu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne(Le,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&il(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),sa(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&il(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}sa(t,!0,n,null,a);break;case"together":sa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ml(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ct(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Qt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xd(e,t,n){switch(t.tag){case 3:Yo(t),Ln();break;case 5:mo(t);break;case 1:qe(t.type)&&Yr(t);break;case 4:Os(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Ne(rl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Le,Le.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Zo(e,t,n):(Ne(Le,Le.current&1),e=Ct(e,t,n),e!==null?e.sibling:null);Ne(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return tu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ne(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,Ko(e,t,n)}return Ct(e,t,n)}var nu,aa,ru,lu;nu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},aa=function(){},ru=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,nn(xt.current);var a=null;switch(n){case"input":l=Al(e,l),r=Al(e,r),a=[];break;case"select":l=W({},l,{value:void 0}),r=W({},r,{value:void 0}),a=[];break;case"textarea":l=Ol(e,l),r=Ol(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kr)}Ul(n,r);var i;n=null;for(y in l)if(!r.hasOwnProperty(y)&&l.hasOwnProperty(y)&&l[y]!=null)if(y==="style"){var c=l[y];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(k.hasOwnProperty(y)?a||(a=[]):(a=a||[]).push(y,null));for(y in r){var d=r[y];if(c=l!=null?l[y]:void 0,r.hasOwnProperty(y)&&d!==c&&(d!=null||c!=null))if(y==="style")if(c){for(i in c)!c.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in d)d.hasOwnProperty(i)&&c[i]!==d[i]&&(n||(n={}),n[i]=d[i])}else n||(a||(a=[]),a.push(y,n)),n=d;else y==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(a=a||[]).push(y,d)):y==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(y,""+d):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(k.hasOwnProperty(y)?(d!=null&&y==="onScroll"&&ke("scroll",e),a||c===d||(a=[])):(a=a||[]).push(y,d))}n&&(a=a||[]).push("style",n);var y=a;(t.updateQueue=y)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};function gr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jd(e,t,n){var r=t.pendingProps;switch(Cs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return qe(t.type)&&Jr(),Ve(t),null;case 3:return r=t.stateNode,Rn(),Ee(Ke),Ee($e),Bs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(tl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ft!==null&&(va(ft),ft=null))),aa(e,t),Ve(t),null;case 5:Ms(t);var l=nn(dr.current);if(n=t.type,e!==null&&t.stateNode!=null)ru(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(o(166));return Ve(t),null}if(e=nn(xt.current),tl(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[yt]=t,r[ar]=a,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(l=0;l<rr.length;l++)ke(rr[l],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Fa(r,a),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ke("invalid",r);break;case"textarea":Ua(r,a),ke("invalid",r)}Ul(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&Qr(r.textContent,c,e),l=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Qr(r.textContent,c,e),l=["children",""+c]):k.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&ke("scroll",r)}switch(n){case"input":kr(r),Ma(r,a,!0);break;case"textarea":kr(r),$a(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Kr)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ga(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[yt]=t,e[ar]=r,nu(e,t,!1,!1),t.stateNode=e;e:{switch(i=Bl(n,r),n){case"dialog":ke("cancel",e),ke("close",e),l=r;break;case"iframe":case"object":case"embed":ke("load",e),l=r;break;case"video":case"audio":for(l=0;l<rr.length;l++)ke(rr[l],e);l=r;break;case"source":ke("error",e),l=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),l=r;break;case"details":ke("toggle",e),l=r;break;case"input":Fa(e,r),l=Al(e,r),ke("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=W({},r,{value:void 0}),ke("invalid",e);break;case"textarea":Ua(e,r),l=Ol(e,r),ke("invalid",e);break;default:l=r}Ul(n,l),c=l;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];a==="style"?Ha(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Va(e,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&On(e,d):typeof d=="number"&&On(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(k.hasOwnProperty(a)?d!=null&&a==="onScroll"&&ke("scroll",e):d!=null&&w(e,a,d,i))}switch(n){case"input":kr(e),Ma(e,r,!1);break;case"textarea":kr(e),$a(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ee(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?fn(e,!!r.multiple,a,!1):r.defaultValue!=null&&fn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Kr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)lu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(n=nn(dr.current),nn(xt.current),tl(t)){if(r=t.stateNode,n=t.memoizedProps,r[yt]=t,(a=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:Qr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qr(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yt]=t,t.stateNode=r}return Ve(t),null;case 13:if(Ee(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&nt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ao(),Ln(),t.flags|=98560,a=!1;else if(a=tl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(o(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(o(317));a[yt]=t}else Ln(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),a=!1}else ft!==null&&(va(ft),ft=null),a=!0;if(!a)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Le.current&1)!==0?ze===0&&(ze=3):ja())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return Rn(),aa(e,t),e===null&&lr(t.stateNode.containerInfo),Ve(t),null;case 10:return Ds(t.type._context),Ve(t),null;case 17:return qe(t.type)&&Jr(),Ve(t),null;case 19:if(Ee(Le),a=t.memoizedState,a===null)return Ve(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)gr(a,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=il(e),i!==null){for(t.flags|=128,gr(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Le,Le.current&1|2),t.child}e=e.sibling}a.tail!==null&&Re()>An&&(t.flags|=128,r=!0,gr(a,!1),t.lanes=4194304)}else{if(!r)if(e=il(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!_e)return Ve(t),null}else 2*Re()-a.renderingStartTime>An&&n!==1073741824&&(t.flags|=128,r=!0,gr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Re(),t.sibling=null,n=Le.current,Ne(Le,r?n&1|2:n&1),t):(Ve(t),null);case 22:case 23:return xa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(rt&1073741824)!==0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function wd(e,t){switch(Cs(t),t.tag){case 1:return qe(t.type)&&Jr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rn(),Ee(Ke),Ee($e),Bs(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ms(t),null;case 13:if(Ee(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Le),null;case 4:return Rn(),null;case 10:return Ds(t.type._context),null;case 22:case 23:return xa(),null;case 24:return null;default:return null}}var gl=!1,We=!1,Sd=typeof WeakSet=="function"?WeakSet:Set,K=null;function bn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function ia(e,t,n){try{n()}catch(r){Te(e,t,r)}}var su=!1;function Nd(e,t){if(xs=zr,e=zi(),ds(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,c=-1,d=-1,y=0,R=0,b=e,T=null;t:for(;;){for(var H;b!==n||l!==0&&b.nodeType!==3||(c=i+l),b!==a||r!==0&&b.nodeType!==3||(d=i+r),b.nodeType===3&&(i+=b.nodeValue.length),(H=b.firstChild)!==null;)T=b,b=H;for(;;){if(b===e)break t;if(T===n&&++y===l&&(c=i),T===a&&++R===r&&(d=i),(H=b.nextSibling)!==null)break;b=T,T=b.parentNode}b=H}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(js={focusedElem:e,selectionRange:n},zr=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var J=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var Z=J.memoizedProps,Pe=J.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?Z:pt(t.type,Z),Pe);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(U){Te(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return J=su,su=!1,J}function vr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&ia(t,n,a)}l=l.next}while(l!==r)}}function vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function au(e){var t=e.alternate;t!==null&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yt],delete t[ar],delete t[ks],delete t[sd],delete t[ad])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iu(e){return e.tag===5||e.tag===3||e.tag===4}function ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ua(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kr));else if(r!==4&&(e=e.child,e!==null))for(ua(e,t,n),e=e.sibling;e!==null;)ua(e,t,n),e=e.sibling}function ca(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ca(e,t,n),e=e.sibling;e!==null;)ca(e,t,n),e=e.sibling}var Ue=null,ht=!1;function $t(e,t,n){for(n=n.child;n!==null;)uu(e,t,n),n=n.sibling}function uu(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Ir,n)}catch{}switch(n.tag){case 5:We||bn(n,t);case 6:var r=Ue,l=ht;Ue=null,$t(e,t,n),Ue=r,ht=l,Ue!==null&&(ht?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(ht?(e=Ue,n=n.stateNode,e.nodeType===8?Ns(e.parentNode,n):e.nodeType===1&&Ns(e,n),qn(e)):Ns(Ue,n.stateNode));break;case 4:r=Ue,l=ht,Ue=n.stateNode.containerInfo,ht=!0,$t(e,t,n),Ue=r,ht=l;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&((a&2)!==0||(a&4)!==0)&&ia(n,t,i),l=l.next}while(l!==r)}$t(e,t,n);break;case 1:if(!We&&(bn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Te(n,t,c)}$t(e,t,n);break;case 21:$t(e,t,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,$t(e,t,n),We=r):$t(e,t,n);break;default:$t(e,t,n)}}function cu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Sd),t.forEach(function(r){var l=Pd.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 5:Ue=c.stateNode,ht=!1;break e;case 3:Ue=c.stateNode.containerInfo,ht=!0;break e;case 4:Ue=c.stateNode.containerInfo,ht=!0;break e}c=c.return}if(Ue===null)throw Error(o(160));uu(a,i,l),Ue=null,ht=!1;var d=l.alternate;d!==null&&(d.return=null),l.return=null}catch(y){Te(l,t,y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)du(t,e),t=t.sibling}function du(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),wt(e),r&4){try{vr(3,e,e.return),vl(3,e)}catch(Z){Te(e,e.return,Z)}try{vr(5,e,e.return)}catch(Z){Te(e,e.return,Z)}}break;case 1:mt(t,e),wt(e),r&512&&n!==null&&bn(n,n.return);break;case 5:if(mt(t,e),wt(e),r&512&&n!==null&&bn(n,n.return),e.flags&32){var l=e.stateNode;try{On(l,"")}catch(Z){Te(e,e.return,Z)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Oa(l,a),Bl(c,i);var y=Bl(c,a);for(i=0;i<d.length;i+=2){var R=d[i],b=d[i+1];R==="style"?Ha(l,b):R==="dangerouslySetInnerHTML"?Va(l,b):R==="children"?On(l,b):w(l,R,b,y)}switch(c){case"input":zl(l,a);break;case"textarea":Ba(l,a);break;case"select":var T=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var H=a.value;H!=null?fn(l,!!a.multiple,H,!1):T!==!!a.multiple&&(a.defaultValue!=null?fn(l,!!a.multiple,a.defaultValue,!0):fn(l,!!a.multiple,a.multiple?[]:"",!1))}l[ar]=a}catch(Z){Te(e,e.return,Z)}}break;case 6:if(mt(t,e),wt(e),r&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(Z){Te(e,e.return,Z)}}break;case 3:if(mt(t,e),wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qn(t.containerInfo)}catch(Z){Te(e,e.return,Z)}break;case 4:mt(t,e),wt(e);break;case 13:mt(t,e),wt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(pa=Re())),r&4&&cu(e);break;case 22:if(R=n!==null&&n.memoizedState!==null,e.mode&1?(We=(y=We)||R,mt(t,e),We=y):mt(t,e),wt(e),r&8192){if(y=e.memoizedState!==null,(e.stateNode.isHidden=y)&&!R&&(e.mode&1)!==0)for(K=e,R=e.child;R!==null;){for(b=K=R;K!==null;){switch(T=K,H=T.child,T.tag){case 0:case 11:case 14:case 15:vr(4,T,T.return);break;case 1:bn(T,T.return);var J=T.stateNode;if(typeof J.componentWillUnmount=="function"){r=T,n=T.return;try{t=r,J.props=t.memoizedProps,J.state=t.memoizedState,J.componentWillUnmount()}catch(Z){Te(r,n,Z)}}break;case 5:bn(T,T.return);break;case 22:if(T.memoizedState!==null){hu(b);continue}}H!==null?(H.return=T,K=H):hu(b)}R=R.sibling}e:for(R=null,b=e;;){if(b.tag===5){if(R===null){R=b;try{l=b.stateNode,y?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=b.stateNode,d=b.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Wa("display",i))}catch(Z){Te(e,e.return,Z)}}}else if(b.tag===6){if(R===null)try{b.stateNode.nodeValue=y?"":b.memoizedProps}catch(Z){Te(e,e.return,Z)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;R===b&&(R=null),b=b.return}R===b&&(R=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:mt(t,e),wt(e),r&4&&cu(e);break;case 21:break;default:mt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(iu(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(On(l,""),r.flags&=-33);var a=ou(e);ca(e,a,l);break;case 3:case 4:var i=r.stateNode.containerInfo,c=ou(e);ua(e,c,i);break;default:throw Error(o(161))}}catch(d){Te(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kd(e,t,n){K=e,fu(e)}function fu(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var l=K,a=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||gl;if(!i){var c=l.alternate,d=c!==null&&c.memoizedState!==null||We;c=gl;var y=We;if(gl=i,(We=d)&&!y)for(K=l;K!==null;)i=K,d=i.child,i.tag===22&&i.memoizedState!==null?mu(l):d!==null?(d.return=i,K=d):mu(l);for(;a!==null;)K=a,fu(a),a=a.sibling;K=l,gl=c,We=y}pu(e)}else(l.subtreeFlags&8772)!==0&&a!==null?(a.return=l,K=a):pu(e)}}function pu(e){for(;K!==null;){var t=K;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:We||vl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!We)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:pt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ho(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ho(t,i,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var y=t.alternate;if(y!==null){var R=y.memoizedState;if(R!==null){var b=R.dehydrated;b!==null&&qn(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}We||t.flags&512&&oa(t)}catch(T){Te(t,t.return,T)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function hu(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function mu(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vl(4,t)}catch(d){Te(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(d){Te(t,l,d)}}var a=t.return;try{oa(t)}catch(d){Te(t,a,d)}break;case 5:var i=t.return;try{oa(t)}catch(d){Te(t,i,d)}}}catch(d){Te(t,t.return,d)}if(t===e){K=null;break}var c=t.sibling;if(c!==null){c.return=t.return,K=c;break}K=t.return}}var Ed=Math.ceil,yl=P.ReactCurrentDispatcher,da=P.ReactCurrentOwner,ot=P.ReactCurrentBatchConfig,ye=0,Oe=null,De=null,Be=0,rt=0,Dn=Ft(0),ze=0,yr=null,ln=0,xl=0,fa=0,xr=null,Ye=null,pa=0,An=1/0,Tt=null,jl=!1,ha=null,Gt=null,wl=!1,Vt=null,Sl=0,jr=0,ma=null,Nl=-1,kl=0;function Qe(){return(ye&6)!==0?Re():Nl!==-1?Nl:Nl=Re()}function Wt(e){return(e.mode&1)===0?1:(ye&2)!==0&&Be!==0?Be&-Be:od.transition!==null?(kl===0&&(kl=ii()),kl):(e=Se,e!==0||(e=window.event,e=e===void 0?16:gi(e.type)),e)}function gt(e,t,n,r){if(50<jr)throw jr=0,ma=null,Error(o(185));Vn(e,n,r),((ye&2)===0||e!==Oe)&&(e===Oe&&((ye&2)===0&&(xl|=n),ze===4&&Ht(e,Be)),Xe(e,r),n===1&&ye===0&&(t.mode&1)===0&&(An=Re()+500,Xr&&Mt()))}function Xe(e,t){var n=e.callbackNode;oc(e,t);var r=br(e,e===Oe?Be:0);if(r===0)n!==null&&li(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&li(n),t===1)e.tag===0?id(vu.bind(null,e)):to(vu.bind(null,e)),rd(function(){(ye&6)===0&&Mt()}),n=null;else{switch(oi(r)){case 1:n=Kl;break;case 4:n=si;break;case 16:n=Tr;break;case 536870912:n=ai;break;default:n=Tr}n=Eu(n,gu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gu(e,t){if(Nl=-1,kl=0,(ye&6)!==0)throw Error(o(327));var n=e.callbackNode;if(zn()&&e.callbackNode!==n)return null;var r=br(e,e===Oe?Be:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=El(e,r);else{t=r;var l=ye;ye|=2;var a=xu();(Oe!==e||Be!==t)&&(Tt=null,An=Re()+500,an(e,t));do try{Cd();break}catch(c){yu(e,c)}while(!0);bs(),yl.current=a,ye=l,De!==null?t=0:(Oe=null,Be=0,t=ze)}if(t!==0){if(t===2&&(l=ql(e),l!==0&&(r=l,t=ga(e,l))),t===1)throw n=yr,an(e,0),Ht(e,r),Xe(e,Re()),n;if(t===6)Ht(e,r);else{if(l=e.current.alternate,(r&30)===0&&!_d(l)&&(t=El(e,r),t===2&&(a=ql(e),a!==0&&(r=a,t=ga(e,a))),t===1))throw n=yr,an(e,0),Ht(e,r),Xe(e,Re()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:on(e,Ye,Tt);break;case 3:if(Ht(e,r),(r&130023424)===r&&(t=pa+500-Re(),10<t)){if(br(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Qe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ss(on.bind(null,e,Ye,Tt),t);break}on(e,Ye,Tt);break;case 4:if(Ht(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-ct(r);a=1<<i,i=t[i],i>l&&(l=i),r&=~a}if(r=l,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ed(r/1960))-r,10<r){e.timeoutHandle=Ss(on.bind(null,e,Ye,Tt),r);break}on(e,Ye,Tt);break;case 5:on(e,Ye,Tt);break;default:throw Error(o(329))}}}return Xe(e,Re()),e.callbackNode===n?gu.bind(null,e):null}function ga(e,t){var n=xr;return e.current.memoizedState.isDehydrated&&(an(e,t).flags|=256),e=El(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&va(t)),e}function va(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function _d(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!dt(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ht(e,t){for(t&=~fa,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ct(t),r=1<<n;e[n]=-1,t&=~r}}function vu(e){if((ye&6)!==0)throw Error(o(327));zn();var t=br(e,0);if((t&1)===0)return Xe(e,Re()),null;var n=El(e,t);if(e.tag!==0&&n===2){var r=ql(e);r!==0&&(t=r,n=ga(e,r))}if(n===1)throw n=yr,an(e,0),Ht(e,t),Xe(e,Re()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,on(e,Ye,Tt),Xe(e,Re()),null}function ya(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(An=Re()+500,Xr&&Mt())}}function sn(e){Vt!==null&&Vt.tag===0&&(ye&6)===0&&zn();var t=ye;ye|=1;var n=ot.transition,r=Se;try{if(ot.transition=null,Se=1,e)return e()}finally{Se=r,ot.transition=n,ye=t,(ye&6)===0&&Mt()}}function xa(){rt=Dn.current,Ee(Dn)}function an(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nd(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(Cs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jr();break;case 3:Rn(),Ee(Ke),Ee($e),Bs();break;case 5:Ms(r);break;case 4:Rn();break;case 13:Ee(Le);break;case 19:Ee(Le);break;case 10:Ds(r.type._context);break;case 22:case 23:xa()}n=n.return}if(Oe=e,De=e=Qt(e.current,null),Be=rt=t,ze=0,yr=null,fa=xl=ln=0,Ye=xr=null,tn!==null){for(t=0;t<tn.length;t++)if(n=tn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,r.next=i}n.pending=r}tn=null}return e}function yu(e,t){do{var n=De;try{if(bs(),ol.current=fl,ul){for(var r=Ce.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}ul=!1}if(rn=0,Fe=Ae=Ce=null,fr=!1,pr=0,da.current=null,n===null||n.return===null){ze=1,yr=t,De=null;break}e:{var a=e,i=n.return,c=n,d=t;if(t=Be,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var y=d,R=c,b=R.tag;if((R.mode&1)===0&&(b===0||b===11||b===15)){var T=R.alternate;T?(R.updateQueue=T.updateQueue,R.memoizedState=T.memoizedState,R.lanes=T.lanes):(R.updateQueue=null,R.memoizedState=null)}var H=Go(i);if(H!==null){H.flags&=-257,Vo(H,i,c,a,t),H.mode&1&&$o(a,y,t),t=H,d=y;var J=t.updateQueue;if(J===null){var Z=new Set;Z.add(d),t.updateQueue=Z}else J.add(d);break e}else{if((t&1)===0){$o(a,y,t),ja();break e}d=Error(o(426))}}else if(_e&&c.mode&1){var Pe=Go(i);if(Pe!==null){(Pe.flags&65536)===0&&(Pe.flags|=256),Vo(Pe,i,c,a,t),Rs(Pn(d,c));break e}}a=d=Pn(d,c),ze!==4&&(ze=2),xr===null?xr=[a]:xr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=Uo(a,d,t);po(a,m);break e;case 1:c=d;var f=a.type,g=a.stateNode;if((a.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gt===null||!Gt.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var U=Bo(a,c,t);po(a,U);break e}}a=a.return}while(a!==null)}wu(n)}catch(te){t=te,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function xu(){var e=yl.current;return yl.current=fl,e===null?fl:e}function ja(){(ze===0||ze===3||ze===2)&&(ze=4),Oe===null||(ln&268435455)===0&&(xl&268435455)===0||Ht(Oe,Be)}function El(e,t){var n=ye;ye|=2;var r=xu();(Oe!==e||Be!==t)&&(Tt=null,an(e,t));do try{Ld();break}catch(l){yu(e,l)}while(!0);if(bs(),ye=n,yl.current=r,De!==null)throw Error(o(261));return Oe=null,Be=0,ze}function Ld(){for(;De!==null;)ju(De)}function Cd(){for(;De!==null&&!Zu();)ju(De)}function ju(e){var t=ku(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?wu(e):De=t,da.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=jd(n,t,rt),n!==null){De=n;return}}else{if(n=wd(n,t),n!==null){n.flags&=32767,De=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,De=null;return}}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);ze===0&&(ze=5)}function on(e,t,n){var r=Se,l=ot.transition;try{ot.transition=null,Se=1,Td(e,t,n,r)}finally{ot.transition=l,Se=r}return null}function Td(e,t,n,r){do zn();while(Vt!==null);if((ye&6)!==0)throw Error(o(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(uc(e,a),e===Oe&&(De=Oe=null,Be=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||wl||(wl=!0,Eu(Tr,function(){return zn(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=ot.transition,ot.transition=null;var i=Se;Se=1;var c=ye;ye|=4,da.current=null,Nd(e,n),du(n,e),qc(js),zr=!!xs,js=xs=null,e.current=n,kd(n),ec(),ye=c,Se=i,ot.transition=a}else e.current=n;if(wl&&(wl=!1,Vt=e,Sl=l),a=e.pendingLanes,a===0&&(Gt=null),rc(n.stateNode),Xe(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(jl)throw jl=!1,e=ha,ha=null,e;return(Sl&1)!==0&&e.tag!==0&&zn(),a=e.pendingLanes,(a&1)!==0?e===ma?jr++:(jr=0,ma=e):jr=0,Mt(),null}function zn(){if(Vt!==null){var e=oi(Sl),t=ot.transition,n=Se;try{if(ot.transition=null,Se=16>e?16:e,Vt===null)var r=!1;else{if(e=Vt,Vt=null,Sl=0,(ye&6)!==0)throw Error(o(331));var l=ye;for(ye|=4,K=e.current;K!==null;){var a=K,i=a.child;if((K.flags&16)!==0){var c=a.deletions;if(c!==null){for(var d=0;d<c.length;d++){var y=c[d];for(K=y;K!==null;){var R=K;switch(R.tag){case 0:case 11:case 15:vr(8,R,a)}var b=R.child;if(b!==null)b.return=R,K=b;else for(;K!==null;){R=K;var T=R.sibling,H=R.return;if(au(R),R===y){K=null;break}if(T!==null){T.return=H,K=T;break}K=H}}}var J=a.alternate;if(J!==null){var Z=J.child;if(Z!==null){J.child=null;do{var Pe=Z.sibling;Z.sibling=null,Z=Pe}while(Z!==null)}}K=a}}if((a.subtreeFlags&2064)!==0&&i!==null)i.return=a,K=i;else e:for(;K!==null;){if(a=K,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:vr(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,K=m;break e}K=a.return}}var f=e.current;for(K=f;K!==null;){i=K;var g=i.child;if((i.subtreeFlags&2064)!==0&&g!==null)g.return=i,K=g;else e:for(i=f;K!==null;){if(c=K,(c.flags&2048)!==0)try{switch(c.tag){case 0:case 11:case 15:vl(9,c)}}catch(te){Te(c,c.return,te)}if(c===i){K=null;break e}var U=c.sibling;if(U!==null){U.return=c.return,K=U;break e}K=c.return}}if(ye=l,Mt(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Ir,e)}catch{}r=!0}return r}finally{Se=n,ot.transition=t}}return!1}function Su(e,t,n){t=Pn(n,t),t=Uo(e,t,1),e=Bt(e,t,1),t=Qe(),e!==null&&(Vn(e,1,t),Xe(e,t))}function Te(e,t,n){if(e.tag===3)Su(e,e,n);else for(;t!==null;){if(t.tag===3){Su(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gt===null||!Gt.has(r))){e=Pn(n,e),e=Bo(t,e,1),t=Bt(t,e,1),e=Qe(),t!==null&&(Vn(t,1,e),Xe(t,e));break}}t=t.return}}function Id(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&n,Oe===e&&(Be&n)===n&&(ze===4||ze===3&&(Be&130023424)===Be&&500>Re()-pa?an(e,0):fa|=n),Xe(e,t)}function Nu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Pr,Pr<<=1,(Pr&130023424)===0&&(Pr=4194304)));var n=Qe();e=_t(e,t),e!==null&&(Vn(e,t,n),Xe(e,n))}function Rd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nu(e,n)}function Pd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}r!==null&&r.delete(t),Nu(e,n)}var ku;ku=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)Je=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Je=!1,xd(e,t,n);Je=(e.flags&131072)!==0}else Je=!1,_e&&(t.flags&1048576)!==0&&no(t,el,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ml(e,t),e=t.pendingProps;var l=kn(t,$e.current);In(t,n),l=Vs(null,t,r,e,l,n);var a=Ws();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(a=!0,Yr(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Fs(t),l.updater=pl,t.stateNode=l,l._reactInternals=t,Ys(t,r,e,n),t=ta(null,t,r,!0,a,n)):(t.tag=0,_e&&a&&Ls(t),He(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ml(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Dd(r),e=pt(r,e),l){case 0:t=ea(null,t,r,e,n);break e;case 1:t=Jo(null,t,r,e,n);break e;case 11:t=Wo(null,t,r,e,n);break e;case 14:t=Ho(null,t,r,pt(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:pt(r,l),ea(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:pt(r,l),Jo(e,t,r,l,n);case 3:e:{if(Yo(t),e===null)throw Error(o(387));r=t.pendingProps,a=t.memoizedState,l=a.element,fo(e,t),al(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Pn(Error(o(423)),t),t=Xo(e,t,r,n,l);break e}else if(r!==l){l=Pn(Error(o(424)),t),t=Xo(e,t,r,n,l);break e}else for(nt=zt(t.stateNode.containerInfo.firstChild),tt=t,_e=!0,ft=null,n=uo(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ln(),r===l){t=Ct(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return mo(t),e===null&&Is(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,ws(r,l)?i=null:a!==null&&ws(r,a)&&(t.flags|=32),qo(e,t),He(e,t,i,n),t.child;case 6:return e===null&&Is(t),null;case 13:return Zo(e,t,n);case 4:return Os(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cn(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:pt(r,l),Wo(e,t,r,l,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,Ne(rl,r._currentValue),r._currentValue=i,a!==null)if(dt(a.value,i)){if(a.children===l.children&&!Ke.current){t=Ct(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){i=a.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=Lt(-1,n&-n),d.tag=2;var y=a.updateQueue;if(y!==null){y=y.shared;var R=y.pending;R===null?d.next=d:(d.next=R.next,R.next=d),y.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),As(a.return,n,t),c.lanes|=n;break}d=d.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(o(341));i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),As(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}He(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,In(t,n),l=at(l),r=r(l),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,l=pt(r,t.pendingProps),l=pt(r.type,l),Ho(e,t,r,l,n);case 15:return Qo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:pt(r,l),ml(e,t),t.tag=1,qe(r)?(e=!0,Yr(t)):e=!1,In(t,n),Oo(t,r,l),Ys(t,r,l,n),ta(null,t,r,!0,e,n);case 19:return tu(e,t,n);case 22:return Ko(e,t,n)}throw Error(o(156,t.tag))};function Eu(e,t){return ri(e,t)}function bd(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,r){return new bd(e,t,n,r)}function wa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dd(e){if(typeof e=="function")return wa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xe)return 11;if(e===I)return 14}return 2}function Qt(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _l(e,t,n,r,l,a){var i=2;if(r=e,typeof e=="function")wa(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ae:return un(n.children,l,a,t);case G:i=8,l|=8;break;case ne:return e=ut(12,n,t,l|2),e.elementType=ne,e.lanes=a,e;case we:return e=ut(13,n,t,l),e.elementType=we,e.lanes=a,e;case be:return e=ut(19,n,t,l),e.elementType=be,e.lanes=a,e;case re:return Ll(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ce:i=10;break e;case ue:i=9;break e;case xe:i=11;break e;case I:i=14;break e;case Q:i=16,r=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=ut(i,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function un(e,t,n,r){return e=ut(7,e,r,t),e.lanes=n,e}function Ll(e,t,n,r){return e=ut(22,e,r,t),e.elementType=re,e.lanes=n,e.stateNode={isHidden:!1},e}function Sa(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function Na(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ad(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jl(0),this.expirationTimes=Jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jl(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ka(e,t,n,r,l,a,i,c,d){return e=new Ad(e,t,n,c,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ut(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(a),e}function zd(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _u(e){if(!e)return Ot;e=e._reactInternals;e:{if(Jt(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(qe(n))return Zi(e,n,t)}return t}function Lu(e,t,n,r,l,a,i,c,d){return e=ka(n,r,!0,e,l,a,i,c,d),e.context=_u(null),n=e.current,r=Qe(),l=Wt(n),a=Lt(r,l),a.callback=t??null,Bt(n,a,l),e.current.lanes=l,Vn(e,l,r),Xe(e,r),e}function Cl(e,t,n,r){var l=t.current,a=Qe(),i=Wt(l);return n=_u(n),t.context===null?t.context=n:t.pendingContext=n,t=Lt(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bt(l,t,i),e!==null&&(gt(e,l,i,a),sl(e,l,i)),i}function Tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ea(e,t){Cu(e,t),(e=e.alternate)&&Cu(e,t)}function Fd(){return null}var Tu=typeof reportError=="function"?reportError:function(e){console.error(e)};function _a(e){this._internalRoot=e}Il.prototype.render=_a.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Cl(e,t,null,null)},Il.prototype.unmount=_a.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sn(function(){Cl(null,e,null,null)}),t[St]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var t=di();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bt.length&&t!==0&&t<bt[n].priority;n++);bt.splice(n,0,e),n===0&&hi(e)}};function La(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Iu(){}function Od(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var y=Tl(i);a.call(y)}}var i=Lu(t,r,e,0,null,!1,!1,"",Iu);return e._reactRootContainer=i,e[St]=i.current,lr(e.nodeType===8?e.parentNode:e),sn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var c=r;r=function(){var y=Tl(d);c.call(y)}}var d=ka(e,0,!1,null,null,!1,!1,"",Iu);return e._reactRootContainer=d,e[St]=d.current,lr(e.nodeType===8?e.parentNode:e),sn(function(){Cl(t,d,n,r)}),d}function Pl(e,t,n,r,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var c=l;l=function(){var d=Tl(i);c.call(d)}}Cl(t,i,e,l)}else i=Od(n,t,e,l,r);return Tl(i)}ui=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gn(t.pendingLanes);n!==0&&(Yl(t,n|1),Xe(t,Re()),(ye&6)===0&&(An=Re()+500,Mt()))}break;case 13:sn(function(){var r=_t(e,1);if(r!==null){var l=Qe();gt(r,e,1,l)}}),Ea(e,1)}},Xl=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var n=Qe();gt(t,e,134217728,n)}Ea(e,134217728)}},ci=function(e){if(e.tag===13){var t=Wt(e),n=_t(e,t);if(n!==null){var r=Qe();gt(n,e,t,r)}Ea(e,t)}},di=function(){return Se},fi=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}},Vl=function(e,t,n){switch(t){case"input":if(zl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=qr(r);if(!l)throw Error(o(90));za(r),zl(r,l)}}}break;case"textarea":Ba(e,n);break;case"select":t=n.value,t!=null&&fn(e,!!n.multiple,t,!1)}},Ja=ya,Ya=sn;var Md={usingClientEntryPoint:!1,Events:[ir,Sn,qr,Ka,qa,ya]},wr={findFiberByHostInstance:Yt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ud={bundleType:wr.bundleType,version:wr.version,rendererPackageName:wr.rendererPackageName,rendererConfig:wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ti(e),e===null?null:e.stateNode},findFiberByHostInstance:wr.findFiberByHostInstance||Fd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{Ir=bl.inject(Ud),vt=bl}catch{}}return Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Md,Ze.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!La(t))throw Error(o(200));return zd(e,t,null,n)},Ze.createRoot=function(e,t){if(!La(e))throw Error(o(299));var n=!1,r="",l=Tu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ka(e,1,!1,null,null,n,!1,r,l),e[St]=t.current,lr(e.nodeType===8?e.parentNode:e),new _a(t)},Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=ti(t),e=e===null?null:e.stateNode,e},Ze.flushSync=function(e){return sn(e)},Ze.hydrate=function(e,t,n){if(!Rl(t))throw Error(o(200));return Pl(null,e,t,!0,n)},Ze.hydrateRoot=function(e,t,n){if(!La(e))throw Error(o(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",i=Tu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Lu(t,null,e,1,n??null,l,!1,a,i),e[St]=t.current,lr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Il(t)},Ze.render=function(e,t,n){if(!Rl(t))throw Error(o(200));return Pl(null,e,t,!1,n)},Ze.unmountComponentAtNode=function(e){if(!Rl(e))throw Error(o(40));return e._reactRootContainer?(sn(function(){Pl(null,null,e,!1,function(){e._reactRootContainer=null,e[St]=null})}),!0):!1},Ze.unstable_batchedUpdates=ya,Ze.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rl(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Pl(e,t,n,!1,r)},Ze.version="18.3.1-next-f1338f8080-20240426",Ze}var Ou;function Yd(){if(Ou)return Ia.exports;Ou=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(h){console.error(h)}}return u(),Ia.exports=Jd(),Ia.exports}var Mu;function Xd(){if(Mu)return Dl;Mu=1;var u=Yd();return Dl.createRoot=u.createRoot,Dl.hydrateRoot=u.hydrateRoot,Dl}var Zd=Xd();const ef=Gu(Zd);class tf{constructor(){Sr(this,"config");const o="production"==="test";this.config={enabledLevels:new Set(["warn","error"]),enableConsole:o,errorReporter:void 0}}setErrorReporter(h){this.config.errorReporter=h}debug(h,...o){this.shouldLog("debug")&&console.log(`[DEBUG] ${h}`,...o)}info(h,...o){this.shouldLog("info")&&console.info(`[INFO] ${h}`,...o)}warn(h,...o){this.shouldLog("warn")&&console.warn(`[WARN] ${h}`,...o)}error(h,o,S){if(this.shouldLog("error")){const k=this.sanitizeErrorMessage(h);this.config.enableConsole&&console.error(`[ERROR] ${k}`,o,S),this.config.errorReporter&&o instanceof Error&&this.config.errorReporter(o,{message:k,...S})}}shouldLog(h){return this.config.enabledLevels.has(h)}sanitizeErrorMessage(h){return h.replace(/\b\d{3}-\d{2}-\d{4}\b/g,"[SSN]").replace(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,"[EMAIL]").replace(/\b(?:\d{4}[ -]?){3}\d{4}\b/g,"[CARD]").replace(/Bearer\s+[\w-_.]+/gi,"Bearer [TOKEN]").replace(/password["\s:=]+[\w!@#$%^&*()]+/gi,"password=[REDACTED]")}}const le=new tf,nf=u=>{const o=`${u.pathname.startsWith("/")?u.pathname:`/${u.pathname}`}${u.search}${u.hash}`||"/";try{const S=new URL(o,u.origin);if(S.origin===u.origin)return`${S.pathname}${S.search}${S.hash}`||"/"}catch{}return"/"},rf=({onAuthChange:u})=>{const[h,o]=E.useState(null),[S,k]=E.useState(!0),[j,v]=E.useState(null);E.useEffect(()=>{L()},[]),E.useEffect(()=>{!S&&typeof u=="function"&&u(h)},[h,S,u]);const L=async()=>{var D,$;try{const Y=await fetch("/api/auth/me",{credentials:"include",headers:{Accept:"application/json"}}),A=(($=(D=Y.headers)==null?void 0:D.get)==null?void 0:$.call(D,"content-type"))??"";if(Y.status===204){o(null),v(null);return}if(!A.includes("application/json")){if(Y.status===401||Y.status===403){o(null),v(null);return}if(typeof Y.text=="function"){const _=(await Y.text()).slice(0,120);throw new Error(`Unexpected auth response format (${Y.status}): ${_}`)}throw new Error(`Unexpected auth response format (${Y.status})`)}const N=await Y.json();if(!Y.ok){const _=typeof(N==null?void 0:N.message)=="string"?N.message:typeof(N==null?void 0:N.error)=="string"?N.error:"Unable to verify authentication status. Please try again.";o(null),v(_);return}N!=null&&N.authenticated?(o(N),v(null)):(o(null),v(null))}catch(Y){le.error("Failed to check auth:",Y),o(null),v("Unable to verify authentication status. Please try again.")}finally{k(!1)}},x=()=>{const D=nf(window.location);let $=window.location.origin;$.startsWith("http://")&&($=$.replace("http://","https://"));const Y=new URL("/api/auth/login",$);Y.searchParams.set("state",D);const A=window.open(Y.toString(),"oauth","width=500,height=700");if(A){const N=window.setInterval(()=>{A.closed&&(window.clearInterval(N),L())},500)}else window.location.href=Y.toString()},O=async()=>{try{const D=await fetch("/api/auth/logout",{credentials:"include",headers:{Accept:"application/json"}});if(!D.ok){const $=typeof D.text=="function"?await D.text():"Unexpected logout response";throw new Error($)}o(null),v(null)}catch(D){le.error("Failed to logout:",D),v("Failed to log out. Please retry.")}};if(S)return null;const B=(h==null?void 0:h.role)==="admin"?"Admin":"Viewer";return s.jsxs("div",{className:"auth-button-container",children:[s.jsxs("div",{className:"auth-actions",children:[s.jsx("button",{type:"button",onClick:x,className:"auth-button auth-button--primary",children:B}),h&&s.jsx("button",{type:"button",onClick:O,className:"auth-button auth-button--secondary",children:"Log Out"})]}),j&&s.jsx("div",{className:"auth-error",children:j})]})},lf=({tabs:u,activeTab:h,onTabChange:o})=>s.jsx("div",{className:"tabs",children:u.map(S=>s.jsxs("button",{className:`tab ${h===S.id?"active":""}`,onClick:()=>o(S.id),children:[S.icon&&s.jsx("span",{className:"tab-icon",children:S.icon}),s.jsx("span",{className:"tab-label",children:S.label})]},S.id))}),sf=({onGenerate:u,onGenerateBatch:h,loading:o,config:S})=>{var ge,ve;const[k,j]=E.useState(""),[v,L]=E.useState(((ge=S==null?void 0:S.generation)==null?void 0:ge.steps)||30),[x,O]=E.useState(((ve=S==null?void 0:S.generation)==null?void 0:ve.guidance_scale)||7.5),[B,D]=E.useState(""),[$,Y]=E.useState(!0),[A,N]=E.useState([]),[_,se]=E.useState(""),[X,w]=E.useState(""),[P,z]=E.useState(null),[V,ae]=E.useState([]),[G,ne]=E.useState([]),[ce,ue]=E.useState(!1);E.useEffect(()=>{xe(),we()},[]);const xe=async()=>{try{const ee=await(await fetch("/api/sets")).json();N(ee.sets||[])}catch(F){le.error("Failed to fetch sets:",F)}},we=async()=>{try{const ee=await(await fetch("/api/loras")).json();ne(ee.loras||[])}catch(F){le.error("Failed to fetch LoRAs:",F)}},be=async()=>{try{const ee=await(await fetch("/api/themes/random")).json();w(ee.theme||"")}catch(F){le.error("Failed to fetch random theme:",F)}};E.useEffect(()=>{_?(I(_),Q(_)):(z(null),ae([]))},[_]);const I=async F=>{try{const pe=await(await fetch(`/api/sets/${F}/info`)).json();z(pe)}catch(ee){le.error("Failed to fetch set info:",ee)}},Q=async F=>{try{const pe=await(await fetch(`/api/sets/${F}/loras`)).json();ae(pe.loras||[])}catch(ee){le.error("Failed to fetch set LoRAs:",ee)}},re=async(F,ee)=>{try{const Ie=await(await fetch(`/api/sets/${F}/loras`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({loras:ee})})).json();Ie.success?Q(F):(le.error("Failed to update LoRAs:",Ie.error),alert(`Error: ${Ie.error}`))}catch(pe){le.error("Failed to update set LoRAs:",pe),alert("Failed to update LoRA configuration")}},M=F=>{if(!_||!F)return;if(V.some(pe=>pe.folder===F)){alert("This LoRA is already in the set");return}const ee=[...V,{folder:F,weight:.5}];re(_,ee)},q=F=>{if(!_)return;const ee=V.filter(pe=>pe.folder!==F);re(_,ee)},W=(F,ee)=>{if(!_)return;const pe=V.map(Ie=>Ie.folder===F?{...Ie,weight:parseFloat(ee)}:Ie);ae(pe)},p=()=>{_&&re(_,V)},C=F=>{if(F.preventDefault(),k.trim()){const ee={prompt:k.trim(),steps:v,guidance_scale:x};!$&&B&&(ee.seed=parseInt(B)),u(ee),j("")}},fe=()=>{const F=Math.floor(Math.random()*2147483647);D(F.toString()),Y(!1)},he=F=>{if(F.preventDefault(),_&&X.trim()){const ee={set_name:_,user_theme:X.trim(),steps:v,guidance_scale:x};h(ee),w("")}};return s.jsxs("div",{className:"generate-form",children:[s.jsx("h2",{children:"Generate Image"}),s.jsxs("form",{onSubmit:C,children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"prompt",children:"Prompt"}),s.jsx("textarea",{id:"prompt",value:k,onChange:F=>j(F.target.value),placeholder:"Describe the image you want to generate...",rows:4,disabled:o,required:!0})]}),s.jsxs("div",{className:"controls-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"steps",children:["Steps: ",v,s.jsxs("span",{className:"tooltip",children:["?",s.jsxs("span",{className:"tooltip-text",children:["Number of denoising iterations. More steps = more refined image but slower.",s.jsx("br",{}),"• 20-25: Fast, decent quality",s.jsx("br",{}),"• 30-40: Balanced (recommended)",s.jsx("br",{}),"• 50+: Diminishing returns"]})]})]}),s.jsx("input",{type:"range",id:"steps",min:"10",max:"75",step:"5",value:v,onChange:F=>L(parseInt(F.target.value)),disabled:o}),s.jsxs("div",{className:"range-labels",children:[s.jsx("span",{children:"10"}),s.jsx("span",{children:"Fast"}),s.jsx("span",{children:"Quality"}),s.jsx("span",{children:"75"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"guidance",children:["Guidance Scale: ",x,s.jsxs("span",{className:"tooltip",children:["?",s.jsxs("span",{className:"tooltip-text",children:["How closely the model follows your prompt.",s.jsx("br",{}),"• 1-5: Creative, loose interpretation",s.jsx("br",{}),"• 7-10: Balanced",s.jsx("br",{}),"• 10-15: Strong adherence",s.jsx("br",{}),"• 15-20: Very strict (may reduce quality)"]})]})]}),s.jsx("input",{type:"range",id:"guidance",min:"1",max:"20",step:"0.5",value:x,onChange:F=>O(parseFloat(F.target.value)),disabled:o}),s.jsxs("div",{className:"range-labels",children:[s.jsx("span",{children:"1"}),s.jsx("span",{children:"Creative"}),s.jsx("span",{children:"Strict"}),s.jsx("span",{children:"20"})]})]})]}),s.jsxs("div",{className:"form-group seed-group",children:[s.jsxs("label",{htmlFor:"seed",children:["Seed (Optional)",s.jsxs("span",{className:"tooltip",children:["?",s.jsxs("span",{className:"tooltip-text",children:["Random seed for reproducibility. Same seed + prompt = same image.",s.jsx("br",{}),'• Leave as "Random" for different results each time',s.jsx("br",{}),"• Set a specific number to reproduce an image",s.jsx("br",{}),"• Range: 0 to 2,147,483,647"]})]})]}),s.jsxs("div",{className:"seed-controls",children:[s.jsxs("div",{className:"seed-toggle",children:[s.jsxs("label",{className:"toggle-option",children:[s.jsx("input",{type:"radio",name:"seed-mode",checked:$,onChange:()=>{Y(!0),D("")},disabled:o}),s.jsx("span",{children:"Random"})]}),s.jsxs("label",{className:"toggle-option",children:[s.jsx("input",{type:"radio",name:"seed-mode",checked:!$,onChange:()=>Y(!1),disabled:o}),s.jsx("span",{children:"Fixed"})]})]}),s.jsx("input",{type:"number",id:"seed",value:B,onChange:F=>D(F.target.value),placeholder:"Enter seed or generate random",min:"0",max:"2147483647",disabled:o||$,className:"seed-input"}),s.jsx("button",{type:"button",onClick:fe,disabled:o,className:"generate-seed-btn",title:"Generate random seed",children:"🎲"})]})]}),s.jsx("button",{type:"submit",disabled:o||!k.trim(),children:o?"Generating...":"Generate Image"}),o&&s.jsxs("div",{className:"loading-indicator",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Generating your image... This may take 10-30 seconds"})]})]}),s.jsx("div",{className:"form-divider"}),s.jsx("h2",{children:"Generate Set"}),s.jsxs("form",{onSubmit:he,className:"batch-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"set-select",children:["Select Set",s.jsxs("span",{className:"tooltip",children:["?",s.jsxs("span",{className:"tooltip-text",children:["Choose a predefined set (e.g., card deck, tarot deck) to generate multiple images.",s.jsx("br",{}),"Each item in the set will be styled with your art theme."]})]})]}),s.jsxs("select",{id:"set-select",value:_,onChange:F=>se(F.target.value),disabled:o,required:!0,children:[s.jsx("option",{value:"",children:"-- Select a set --"}),A.map(F=>s.jsx("option",{value:F.id,children:F.name},F.id))]}),P&&s.jsxs("p",{className:"set-info",children:[P.description," (",P.item_count," items)"]})]}),_&&s.jsxs("div",{className:"form-group lora-config-section",children:[s.jsxs("div",{className:"lora-header",children:[s.jsxs("label",{children:["LoRA Configuration",s.jsxs("span",{className:"tooltip",children:["?",s.jsxs("span",{className:"tooltip-text",children:["Configure which LoRAs to apply to this set and their influence weights.",s.jsx("br",{}),"• Weight 0.0 = No effect",s.jsx("br",{}),"• Weight 0.5 = Moderate effect (recommended)",s.jsx("br",{}),"• Weight 1.0 = Strong effect",s.jsx("br",{}),"• Weight 1.5+ = Very strong (may distort)"]})]})]}),s.jsxs("button",{type:"button",onClick:()=>ue(!ce),className:"toggle-lora-btn",children:[ce?"▼ Hide":"▶ Show"," LoRAs (",V.length,")"]})]}),ce&&s.jsxs(s.Fragment,{children:[V.length===0?s.jsx("p",{className:"no-loras-message",children:"No LoRAs configured for this set. Add one below."}):s.jsx("div",{className:"lora-list",children:V.map(F=>{const ee=G.find(pe=>pe.folder===F.folder);return s.jsxs("div",{className:"lora-item",children:[s.jsx("div",{className:"lora-info",children:s.jsx("span",{className:"lora-name",children:(ee==null?void 0:ee.filename)||F.folder})}),s.jsxs("div",{className:"lora-controls",children:[s.jsxs("label",{htmlFor:`weight-${F.folder}`,className:"weight-label",children:["Weight: ",F.weight.toFixed(2)]}),s.jsx("input",{type:"range",id:`weight-${F.folder}`,min:"0",max:"2",step:"0.05",value:F.weight,onChange:pe=>W(F.folder,pe.target.value),onMouseUp:p,onTouchEnd:p,className:"weight-slider",disabled:o}),s.jsx("button",{type:"button",onClick:()=>q(F.folder),className:"remove-lora-btn",disabled:o,title:"Remove LoRA",children:"✕"})]})]},F.folder)})}),s.jsxs("div",{className:"add-lora-section",children:[s.jsx("label",{htmlFor:"add-lora-select",children:"Add LoRA:"}),s.jsxs("select",{id:"add-lora-select",onChange:F=>{F.target.value&&(M(F.target.value),F.target.value="")},disabled:o,className:"add-lora-select",children:[s.jsx("option",{value:"",children:"-- Select LoRA to Add --"}),G.filter(F=>!V.some(ee=>ee.folder===F.folder)).map(F=>s.jsx("option",{value:F.folder,children:F.filename||F.folder},F.folder))]})]})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsxs("label",{htmlFor:"user-theme",children:["Art Style Theme",s.jsxs("span",{className:"tooltip",children:["?",s.jsxs("span",{className:"tooltip-text",children:["Describe the artistic style and atmosphere for your card set.",s.jsx("br",{}),s.jsx("br",{}),"Examples:",s.jsx("br",{}),'• "watercolor pastels with soft dreamy lighting"',s.jsx("br",{}),'• "cyberpunk neon with dark urban background"',s.jsx("br",{}),'• "vintage botanical illustrations"',(P==null?void 0:P.example_theme)&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("br",{}),"Suggestion for ",P.name,":",s.jsx("br",{}),'"',P.example_theme,'"']})]})]})]}),s.jsxs("div",{className:"theme-input-group",children:[s.jsx("textarea",{id:"user-theme",value:X,onChange:F=>w(F.target.value),placeholder:"e.g., watercolor mystical forest, ethereal glowing light...",rows:3,disabled:o,required:!0}),s.jsx("button",{type:"button",onClick:be,disabled:o,className:"random-theme-btn",title:"Generate random theme",children:"🎲 Random Theme"})]})]}),s.jsx("button",{type:"submit",disabled:o||!_||!X.trim(),className:"batch-submit-btn",children:o?"Generating Set...":"Generate Complete Set"}),o&&s.jsxs("div",{className:"loading-indicator",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Queuing batch generation... This will create multiple jobs"})]})]})]})},af=({config:u,loading:h,queuePosition:o,onGenerate:S,onGenerateBatch:k})=>s.jsxs("div",{className:"generate-tab",children:[h&&s.jsxs("div",{className:"loading-indicator",children:[s.jsx("div",{className:"spinner"}),s.jsxs("p",{children:["Generating image...",o!==null&&o>0&&s.jsxs("span",{children:[" (Queue position: ",o,")"]})]})]}),!h&&s.jsx(sf,{onGenerate:S,onGenerateBatch:k,loading:h,config:u})]}),of=({batches:u,onSelectBatch:h})=>!u||u.length===0?s.jsxs("div",{className:"batch-list",children:[s.jsx("h3",{children:"Generated Sets"}),s.jsx("p",{className:"no-batches",children:'No sets generated yet. Use "Generate Set" to create your first batch!'})]}):s.jsxs("div",{className:"batch-list",children:[s.jsx("h3",{children:"Generated Sets"}),s.jsx("div",{className:"batch-items",children:u.map(o=>s.jsxs("div",{className:"batch-item",onClick:()=>h(o.batch_id),children:[s.jsxs("div",{className:"batch-item-header",children:[s.jsx("h4",{children:o.batch_id}),s.jsxs("span",{className:"batch-count",children:[o.image_count," images"]})]}),s.jsxs("p",{className:"batch-date",children:["Created: ",new Date(o.created).toLocaleString()]})]},o.batch_id))})]}),uf=({batchId:u,onBack:h})=>{var D,$,Y,A,N,_,se,X;const[o,S]=E.useState(null),[k,j]=E.useState(!0),[v,L]=E.useState(null),x=E.useCallback(async()=>{j(!0);try{const P=await(await fetch(`/api/batches/${u}`)).json();S(P)}catch(w){le.error("Failed to fetch batch:",w)}finally{j(!1)}},[u]);E.useEffect(()=>{x()},[x]);const O=w=>{L(w)},B=()=>{L(null)};return k?s.jsx("div",{className:"batch-gallery",children:s.jsxs("div",{className:"loading-indicator",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Loading batch..."})]})}):o?s.jsxs("div",{className:"batch-gallery",children:[s.jsxs("div",{className:"batch-header",children:[s.jsx("button",{onClick:h,className:"back-button",children:"← Back to Gallery"}),s.jsx("h2",{children:o.batch_id}),s.jsxs("p",{className:"batch-info",children:[o.image_count," images"]})]}),s.jsx("div",{className:"image-grid",children:o.images&&o.images.length>0?o.images.map((w,P)=>{var z,V;return s.jsxs("div",{className:"image-card",onClick:()=>O(w),children:[s.jsx("img",{src:`/api/outputs/${w.relative_path}`,alt:((z=w.metadata)==null?void 0:z.prompt)||"Generated image",loading:"lazy"}),s.jsxs("div",{className:"image-info",children:[s.jsx("p",{className:"image-prompt",children:((V=w.metadata)==null?void 0:V.prompt)||"No prompt"}),w.metadata&&s.jsxs("div",{className:"image-metadata",children:[s.jsxs("span",{children:["Steps: ",w.metadata.steps]}),w.metadata.seed&&s.jsxs("span",{children:["Seed: ",w.metadata.seed]})]})]})]},P)}):s.jsx("p",{children:"No images in this batch yet"})}),v&&s.jsx("div",{className:"modal",onClick:B,children:s.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[s.jsx("button",{className:"modal-close",onClick:B,children:"×"}),s.jsx("img",{src:`/api/outputs/${v.relative_path}`,alt:((D=v.metadata)==null?void 0:D.prompt)||"Generated image"}),s.jsxs("div",{className:"modal-info",children:[s.jsx("h3",{children:"Image Details"}),(($=v.metadata)==null?void 0:$.prompt)&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Prompt:"}),s.jsx("p",{children:v.metadata.prompt})]}),((Y=v.metadata)==null?void 0:Y.negative_prompt)&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Negative Prompt:"}),s.jsx("p",{children:v.metadata.negative_prompt})]}),s.jsxs("div",{className:"detail-grid",children:[((A=v.metadata)==null?void 0:A.seed)&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Seed:"})," ",v.metadata.seed]}),((N=v.metadata)==null?void 0:N.steps)&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Steps:"})," ",v.metadata.steps]}),((_=v.metadata)==null?void 0:_.guidance_scale)&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Guidance:"})," ",v.metadata.guidance_scale]}),((se=v.metadata)==null?void 0:se.width)&&((X=v.metadata)==null?void 0:X.height)&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Size:"})," ",v.metadata.width,"x",v.metadata.height]})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Filename:"})," ",v.filename]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Created:"})," ",new Date(v.created).toLocaleString()]})]})]})})]}):s.jsxs("div",{className:"batch-gallery",children:[s.jsx("button",{onClick:h,className:"back-button",children:"← Back to Gallery"}),s.jsx("p",{children:"Batch not found"})]})},cf=({images:u,onRefresh:h})=>{var v,L,x,O,B,D,$,Y;const[o,S]=E.useState(null),k=A=>{S(A)},j=()=>{S(null)};return s.jsxs("div",{className:"image-grid-container",children:[s.jsxs("div",{className:"grid-header",children:[s.jsxs("h2",{children:["Generated Images (",u.length,")"]}),s.jsx("button",{onClick:h,className:"refresh-btn",children:"Refresh"})]}),u.length===0?s.jsxs("div",{className:"no-images",children:[s.jsx("p",{children:"No images generated yet."}),s.jsx("p",{children:"Use the form above to create your first image!"})]}):s.jsx("div",{className:"image-grid",children:u.map(A=>{var N,_,se,X;return s.jsxs("div",{className:"image-card",onClick:()=>k(A),children:[s.jsx("img",{src:`/api/outputs/${A.filename}`,alt:((N=A.metadata)==null?void 0:N.prompt)||"Generated image"}),s.jsxs("div",{className:"image-overlay",children:[s.jsxs("p",{className:"image-prompt",children:[(se=(_=A.metadata)==null?void 0:_.prompt)==null?void 0:se.substring(0,60),(X=A.metadata)!=null&&X.prompt&&A.metadata.prompt.length>60?"...":""]}),A.created&&s.jsx("p",{className:"image-date",children:new Date(A.created).toLocaleDateString()})]})]},A.filename)})}),o&&s.jsx("div",{className:"modal",onClick:j,children:s.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[s.jsx("button",{className:"modal-close",onClick:j,children:"×"}),s.jsx("img",{src:`/api/outputs/${o.filename}`,alt:((v=o.metadata)==null?void 0:v.prompt)||"Generated image"}),s.jsxs("div",{className:"modal-info",children:[s.jsx("h3",{children:"Image Details"}),((L=o.metadata)==null?void 0:L.prompt)&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Prompt:"}),s.jsx("p",{children:o.metadata.prompt})]}),((x=o.metadata)==null?void 0:x.negative_prompt)&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Negative Prompt:"}),s.jsx("p",{children:o.metadata.negative_prompt})]}),s.jsxs("div",{className:"detail-grid",children:[((O=o.metadata)==null?void 0:O.seed)&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Seed:"})," ",o.metadata.seed]}),((B=o.metadata)==null?void 0:B.steps)&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Steps:"})," ",o.metadata.steps]}),((D=o.metadata)==null?void 0:D.guidance_scale)&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Guidance:"})," ",o.metadata.guidance_scale]}),(($=o.metadata)==null?void 0:$.width)&&((Y=o.metadata)==null?void 0:Y.height)&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Size:"})," ",o.metadata.width,"x",o.metadata.height]})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Filename:"})," ",o.filename]}),o.created&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Created:"})," ",new Date(o.created).toLocaleString()]})]})]})})]})},df=({batches:u,images:h,onRefreshImages:o,onRefreshBatches:S})=>{const[k,j]=E.useState(null),v=x=>{j(x)},L=()=>{j(null),S()};return s.jsx("div",{className:"gallery-tab",children:k?s.jsx(uf,{batchId:k,onBack:L}):s.jsxs(s.Fragment,{children:[s.jsxs("section",{className:"gallery-section",children:[s.jsx("h2",{children:"📁 Batch Sets"}),s.jsx(of,{batches:u,onSelectBatch:v})]}),s.jsxs("section",{className:"gallery-section",children:[s.jsx("h2",{children:"🖼️ Recent Images"}),s.jsx(cf,{images:h,onRefresh:o})]})]})})},Uu=u=>{if(u&&typeof u=="object"){const h=u;return{current:typeof h.current=="number"?h.current:void 0,total:typeof h.total=="number"?h.total:void 0,message:typeof h.message=="string"?h.message:void 0}}},Bu=({albumId:u,imageId:h,onComplete:o,variant:S="default"})=>{const[k,j]=E.useState(!1),[v,L]=E.useState(""),[x,O]=E.useState(0),[B,D]=E.useState(null),$=E.useRef(null),Y=h?`image #${h}`:`album #${u}`;E.useEffect(()=>()=>{$.current&&window.clearInterval($.current)},[]);const A=()=>{j(!1),O(0),D(null),$.current&&(window.clearInterval($.current),$.current=null)},N=X=>{L(X),A()},_=X=>{$.current=window.setInterval(async()=>{try{const w=await fetch(`/api/labeling/tasks/${X}`,{credentials:"include"});if(!w.ok)throw new Error("Failed to fetch task status");const P=await w.json(),z=P.state??"PENDING";if(z==="SUCCESS"){if(L("Labeling complete!"),O(100),$.current&&(window.clearInterval($.current),$.current=null),o)try{await o()}catch(V){le.error("Labeling onComplete handler failed:",V)}setTimeout(()=>{L(""),A()},1500)}else if(z==="FAILURE"){const V=P.result&&typeof P.result=="object"&&"message"in P.result?String(P.result.message):"Labeling failed";N(V)}else if(z==="PROGRESS"){const V=Uu(P.progress)??Uu(P.result)??{},{current:ae,total:G,message:ne}=V;typeof ae=="number"&&typeof G=="number"&&G>0?(O(Math.min(100,Math.round(ae/G*100))),L(`Labeled ${ae} of ${G} images...`)):L(ne?String(ne):"Labeling in progress...")}else L(`Status: ${z}`)}catch(w){le.error("Polling error:",w),N("Failed to poll labeling status")}},2e3)},se=async()=>{if(!k){if(!u&&!h){N("Missing album or image identifier");return}j(!0),L("Starting labeling..."),O(0);try{const X=h?`/api/labeling/image/${h}`:`/api/labeling/album/${u}`,w={prompt_type:"sd_training",...u?{force:!1}:{}},P=await fetch(X,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(w)}),z=await P.json().catch(()=>({}));if(P.status===202&&z.task_id)D(z.task_id),L("Labeling queued..."),_(z.task_id);else if(P.ok)L("Labeling complete!"),O(100),o&&await Promise.resolve(o()),setTimeout(()=>{L(""),A()},1500);else{const V=typeof z.error=="string"?z.error:"Labeling failed";N(V)}}catch(X){le.error("Labeling request failed:",X),N("Failed to start labeling task")}}};return S==="compact"?s.jsxs("div",{className:"labeling-panel compact",children:[s.jsx("button",{className:"labeling-trigger",onClick:()=>void se(),disabled:k,title:k?"Labeling in progress":"Label this image",children:k?"Labeling…":"Label image"}),v&&s.jsx("p",{className:"status-text",children:v})]}):s.jsxs("div",{className:"labeling-panel",children:[s.jsx("h3",{children:"🏷️ AI Labeling"}),s.jsxs("p",{className:"help-text",children:["Trigger Claude to caption, tag, and classify ",Y,"."]}),s.jsxs("div",{className:"labeling-actions",children:[s.jsx("button",{className:"labeling-button",onClick:()=>void se(),disabled:k,children:k?"Labeling…":"Start Labeling"}),B&&s.jsxs("span",{className:"task-id","aria-live":"polite",children:["Task ID: ",B]})]}),s.jsxs("div",{className:"labeling-progress",children:[s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:"progress-fill",style:{width:`${x}%`}})}),v&&s.jsx("p",{className:"status-text",children:v})]})]})},Vu=u=>({images:u,selectedImages:new Set,nsfwSetting:"blur",labelInputs:{},editingLabel:null,labelError:null,loadingStates:{removingImages:!1,addingLabel:new Set,deletingLabel:new Set,editingLabel:!1},optimisticUpdates:{pendingLabelAdds:new Map,pendingLabelDeletes:new Set,pendingLabelEdits:new Map}}),qt=(u,h)=>`${u}-${h}`;function ff(u,h){switch(h.type){case"RESET":return Vu(h.images);case"TOGGLE_IMAGE_SELECTION":{const o=new Set(u.selectedImages);return o.has(h.imageId)?o.delete(h.imageId):o.add(h.imageId),{...u,selectedImages:o}}case"CLEAR_SELECTED_IMAGES":return{...u,selectedImages:new Set};case"SET_NSFW_SETTING":return{...u,nsfwSetting:h.setting};case"UPDATE_LABEL_INPUT":return{...u,labelInputs:{...u.labelInputs,[h.imageId]:h.value}};case"CLEAR_LABEL_INPUT":{const o={...u.labelInputs};return delete o[h.imageId],{...u,labelInputs:o}}case"SET_LABEL_ERROR":return{...u,labelError:h.error};case"START_EDITING_LABEL":return{...u,editingLabel:{imageId:h.imageId,labelId:h.labelId,value:h.value},labelError:null};case"UPDATE_EDITING_LABEL":return u.editingLabel?{...u,editingLabel:{...u.editingLabel,value:h.value}}:u;case"CANCEL_EDITING_LABEL":return{...u,editingLabel:null,labelError:null};case"OPTIMISTIC_ADD_LABEL":{const o=new Map(u.optimisticUpdates.pendingLabelAdds);return o.set(h.imageId,h.labelText),{...u,optimisticUpdates:{...u.optimisticUpdates,pendingLabelAdds:o}}}case"OPTIMISTIC_DELETE_LABEL":{const o=qt(h.imageId,h.labelId),S=new Set(u.optimisticUpdates.pendingLabelDeletes);return S.add(o),{...u,optimisticUpdates:{...u.optimisticUpdates,pendingLabelDeletes:S}}}case"OPTIMISTIC_EDIT_LABEL":{const o=qt(h.imageId,h.labelId),S=new Map(u.optimisticUpdates.pendingLabelEdits);return S.set(o,h.newText),{...u,optimisticUpdates:{...u.optimisticUpdates,pendingLabelEdits:S}}}case"CONFIRM_ADD_LABEL":{const o=new Map(u.optimisticUpdates.pendingLabelAdds);o.delete(h.imageId);const S=u.images.map(k=>k.id===h.imageId?{...k,labels:[...k.labels||[],h.newLabel],label_count:(k.label_count||0)+1,manual_label_count:(k.manual_label_count||0)+1}:k);return{...u,images:S,optimisticUpdates:{...u.optimisticUpdates,pendingLabelAdds:o}}}case"CONFIRM_DELETE_LABEL":{const o=qt(h.imageId,h.labelId),S=new Set(u.optimisticUpdates.pendingLabelDeletes);S.delete(o);const k=u.images.map(j=>j.id===h.imageId?{...j,labels:(j.labels||[]).filter(v=>v.id!==h.labelId),label_count:Math.max((j.label_count||0)-1,0),manual_label_count:Math.max((j.manual_label_count||0)-1,0)}:j);return{...u,images:k,optimisticUpdates:{...u.optimisticUpdates,pendingLabelDeletes:S}}}case"CONFIRM_EDIT_LABEL":{const o=qt(h.imageId,h.labelId),S=new Map(u.optimisticUpdates.pendingLabelEdits);S.delete(o);const k=u.images.map(j=>j.id===h.imageId?{...j,labels:(j.labels||[]).map(v=>v.id===h.labelId?{...v,label_text:h.newText}:v)}:j);return{...u,images:k,optimisticUpdates:{...u.optimisticUpdates,pendingLabelEdits:S}}}case"ROLLBACK_ADD_LABEL":{const o=new Map(u.optimisticUpdates.pendingLabelAdds);return o.delete(h.imageId),{...u,optimisticUpdates:{...u.optimisticUpdates,pendingLabelAdds:o}}}case"ROLLBACK_DELETE_LABEL":{const o=qt(h.imageId,h.labelId),S=new Set(u.optimisticUpdates.pendingLabelDeletes);S.delete(o);const k=u.images.map(j=>j.id===h.imageId?{...j,labels:[...j.labels||[],h.originalLabel],label_count:(j.label_count||0)+1,manual_label_count:(j.manual_label_count||0)+1}:j);return{...u,images:k,optimisticUpdates:{...u.optimisticUpdates,pendingLabelDeletes:S}}}case"ROLLBACK_EDIT_LABEL":{const o=qt(h.imageId,h.labelId),S=new Map(u.optimisticUpdates.pendingLabelEdits);S.delete(o);const k=u.images.map(j=>j.id===h.imageId?{...j,labels:(j.labels||[]).map(v=>v.id===h.labelId?{...v,label_text:h.originalText}:v)}:j);return{...u,images:k,optimisticUpdates:{...u.optimisticUpdates,pendingLabelEdits:S}}}case"SET_REMOVING_IMAGES":return{...u,loadingStates:{...u.loadingStates,removingImages:h.isLoading}};case"SET_ADDING_LABEL":{const o=new Set(u.loadingStates.addingLabel);return h.isLoading?o.add(h.imageId):o.delete(h.imageId),{...u,loadingStates:{...u.loadingStates,addingLabel:o}}}case"SET_DELETING_LABEL":{const o=qt(h.imageId,h.labelId),S=new Set(u.loadingStates.deletingLabel);return h.isLoading?S.add(o):S.delete(o),{...u,loadingStates:{...u.loadingStates,deletingLabel:S}}}case"SET_EDITING_LABEL_LOADING":return{...u,loadingStates:{...u.loadingStates,editingLabel:h.isLoading}};case"UPDATE_IMAGES":return{...u,images:h.images};default:return u}}function pf(u){const{albumId:h,initialImages:o,onRefresh:S,onRefreshAnalytics:k}=u,[j,v]=E.useReducer(ff,o,Vu),L=E.useRef(null);E.useEffect(()=>(v({type:"RESET",images:o}),L.current&&L.current.abort(),L.current=new AbortController,()=>{L.current&&L.current.abort()}),[h,o]);const x=E.useCallback(async()=>{await Promise.all([S(),k()])},[S,k]),O=E.useCallback(z=>{v({type:"TOGGLE_IMAGE_SELECTION",imageId:String(z)})},[]),B=E.useCallback(z=>{v({type:"SET_NSFW_SETTING",setting:z})},[]),D=E.useCallback((z,V)=>{v({type:"UPDATE_LABEL_INPUT",imageId:z,value:V})},[]),$=E.useCallback(async()=>{var z;if(j.selectedImages.size!==0){v({type:"SET_REMOVING_IMAGES",isLoading:!0});try{const V=(z=L.current)==null?void 0:z.signal;await Promise.all(Array.from(j.selectedImages).map(ae=>fetch(`/api/albums/${h}/images/${ae}`,{method:"DELETE",credentials:"include",signal:V}).catch(G=>{G.name!=="AbortError"&&le.error(`Failed to remove image ${ae}`,G)}))),v({type:"CLEAR_SELECTED_IMAGES"}),await x()}catch(V){V.name!=="AbortError"&&le.error("Failed to remove images",V)}finally{v({type:"SET_REMOVING_IMAGES",isLoading:!1})}}},[j.selectedImages,h,x]),Y=E.useCallback(async z=>{var ae;const V=(j.labelInputs[z]||"").trim();if(!V){v({type:"SET_LABEL_ERROR",error:"Label text cannot be empty."});return}v({type:"SET_LABEL_ERROR",error:null}),v({type:"SET_ADDING_LABEL",imageId:z,isLoading:!0}),v({type:"OPTIMISTIC_ADD_LABEL",imageId:z,labelText:V});try{const G=(ae=L.current)==null?void 0:ae.signal,ne=await fetch(`/api/images/${z}/labels`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",signal:G,body:JSON.stringify({text:V,type:"manual"})});if(!ne.ok){const ue=await ne.json().catch(()=>({}));throw new Error(typeof ue.error=="string"?ue.error:"Failed to add label")}const ce=await ne.json();v({type:"CONFIRM_ADD_LABEL",imageId:z,newLabel:ce}),v({type:"CLEAR_LABEL_INPUT",imageId:z}),await x()}catch(G){if(G.name!=="AbortError"){v({type:"ROLLBACK_ADD_LABEL",imageId:z});const ne=G instanceof Error?G.message:"Failed to add label";v({type:"SET_LABEL_ERROR",error:ne}),le.error("Failed to add label:",G)}}finally{v({type:"SET_ADDING_LABEL",imageId:z,isLoading:!1})}},[j.labelInputs,x]),A=E.useCallback(async(z,V)=>{var ne,ce;if(!window.confirm("Remove this label?"))return;const ae=j.images.find(ue=>ue.id===z),G=(ne=ae==null?void 0:ae.labels)==null?void 0:ne.find(ue=>ue.id===V);if(G){v({type:"SET_LABEL_ERROR",error:null}),v({type:"SET_DELETING_LABEL",imageId:z,labelId:V,isLoading:!0}),v({type:"OPTIMISTIC_DELETE_LABEL",imageId:z,labelId:V});try{const ue=(ce=L.current)==null?void 0:ce.signal,xe=await fetch(`/api/images/${z}/labels/${V}`,{method:"DELETE",credentials:"include",signal:ue});if(!xe.ok){const we=await xe.json().catch(()=>({}));throw new Error(typeof we.error=="string"?we.error:"Failed to remove label")}v({type:"CONFIRM_DELETE_LABEL",imageId:z,labelId:V}),await x()}catch(ue){if(ue.name!=="AbortError"){v({type:"ROLLBACK_DELETE_LABEL",imageId:z,labelId:V,originalLabel:G});const xe=ue instanceof Error?ue.message:"Failed to remove label";v({type:"SET_LABEL_ERROR",error:xe}),le.error("Failed to remove label:",ue)}}finally{v({type:"SET_DELETING_LABEL",imageId:z,labelId:V,isLoading:!1})}}},[j.images,x]),N=E.useCallback((z,V)=>{v({type:"START_EDITING_LABEL",imageId:z,labelId:V.id,value:V.label_text})},[]),_=E.useCallback(z=>{v({type:"UPDATE_EDITING_LABEL",value:z})},[]),se=E.useCallback(()=>{v({type:"CANCEL_EDITING_LABEL"})},[]),X=E.useCallback(async()=>{var ce,ue;if(!j.editingLabel)return;const z=j.editingLabel.value.trim();if(!z){v({type:"SET_LABEL_ERROR",error:"Label text cannot be empty."});return}const{imageId:V,labelId:ae}=j.editingLabel,G=j.images.find(xe=>xe.id===V),ne=(ce=G==null?void 0:G.labels)==null?void 0:ce.find(xe=>xe.id===ae);if(ne){v({type:"SET_LABEL_ERROR",error:null}),v({type:"SET_EDITING_LABEL_LOADING",isLoading:!0}),v({type:"OPTIMISTIC_EDIT_LABEL",imageId:V,labelId:ae,newText:z});try{const xe=(ue=L.current)==null?void 0:ue.signal,we=await fetch(`/api/images/${V}/labels/${ae}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",signal:xe,body:JSON.stringify({text:z})});if(!we.ok){const be=await we.json().catch(()=>({}));throw new Error(typeof be.error=="string"?be.error:"Failed to update label")}v({type:"CONFIRM_EDIT_LABEL",imageId:V,labelId:ae,newText:z}),v({type:"CANCEL_EDITING_LABEL"}),await x()}catch(xe){if(xe.name!=="AbortError"){v({type:"ROLLBACK_EDIT_LABEL",imageId:V,labelId:ae,originalText:ne.label_text});const we=xe instanceof Error?xe.message:"Failed to update label";v({type:"SET_LABEL_ERROR",error:we}),le.error("Failed to update label:",xe)}}finally{v({type:"SET_EDITING_LABEL_LOADING",isLoading:!1})}}},[j.editingLabel,j.images,x]),w=E.useCallback(z=>j.loadingStates.addingLabel.has(z),[j.loadingStates.addingLabel]),P=E.useCallback((z,V)=>j.loadingStates.deletingLabel.has(qt(z,V)),[j.loadingStates.deletingLabel]);return{state:j,actions:{toggleImageSelection:O,setNsfwSetting:B,updateLabelInput:D,removeSelectedImages:$,addLabel:Y,deleteLabel:A,startEditingLabel:N,updateEditingLabel:_,cancelEditingLabel:se,saveEditedLabel:X},isLoading:{addingLabel:w,deletingLabel:P}}}const hf=({isAdmin:u})=>{const[h,o]=E.useState([]),[S,k]=E.useState(null),[j,v]=E.useState(!1),[L,x]=E.useState(null);E.useEffect(()=>{O()},[]);const O=async()=>{try{const _=await(await fetch("/api/albums")).json(),se=_.albums||_,X=Array.isArray(se)?se.map(w=>({...w,id:String(w.id)})):[];o(X)}catch(N){le.error("Failed to fetch albums:",N)}},B=async N=>{if(!u)return null;try{const _=await fetch(`/api/albums/${N}/labeling/analytics`,{credentials:"include"});if(!_.ok)throw new Error(`Failed to fetch analytics (status ${_.status})`);const se=await _.json();return x(se),se}catch(_){return le.error("Failed to fetch album analytics:",_),x(null),null}},D=async N=>{try{const se=await fetch(`/api/albums/${N}${u?"?include_labels=1":""}`,{credentials:"include"});if(!se.ok)throw new Error(`Failed to fetch album (status ${se.status})`);const X=await se.json(),w=Array.isArray(X.images)?X.images.map(z=>{const ae=(Array.isArray(z.labels)?z.labels:[]).map(G=>({id:Number(G.id),image_id:Number(G.image_id),label_text:G.label_text,confidence:G.confidence===null||typeof G.confidence>"u"?null:Number(G.confidence),label_type:G.label_type??null,source_model:G.source_model??null,source_prompt:G.source_prompt??null,created_by:G.created_by??null,created_at:G.created_at??null}));return{id:typeof z.id=="string"?parseInt(z.id,10):z.id,filename:z.filename,thumbnail_path:z.thumbnail_path??null,is_nsfw:z.is_nsfw,labels:ae,label_count:typeof z.label_count=="number"?z.label_count:ae.length,manual_label_count:typeof z.manual_label_count=="number"?z.manual_label_count:void 0}}):[],P={id:String(X.id),name:X.name,description:X.description,album_type:X.album_type,image_count:X.image_count??w.length,images:w};return k(P),u?await B(String(X.id)):x(null),P}catch(_){return le.error("Failed to fetch album details:",_),x(null),null}},$=async N=>{await D(N)},Y=async(N,_,se="manual")=>{if(u)try{const X=await fetch("/api/albums",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:N,description:_,album_type:se,is_public:!0})});if(X.ok)O(),v(!1);else{const w=await X.json();alert("Failed to create album: "+(w.error??"Unknown error"))}}catch(X){le.error("Failed to create album:",X),alert("Error creating album")}},A=async N=>{if(u&&window.confirm("Are you sure you want to delete this album?"))try{const _=await fetch(`/api/albums/${N}`,{method:"DELETE",credentials:"include"});if(_.ok)O(),(S==null?void 0:S.id)===N&&(k(null),x(null));else{const se=await _.json();alert("Failed to delete album: "+se.error)}}catch(_){le.error("Failed to delete album:",_),alert("Error deleting album")}};return S?s.jsx(mf,{album:S,onBack:()=>k(null),isAdmin:u,onDelete:A,onRefresh:()=>D(String(S.id)),analytics:L,onRefreshAnalytics:async()=>{await B(String(S.id))}}):s.jsxs("div",{className:"albums-tab",children:[s.jsxs("div",{className:"albums-header",children:[s.jsx("h2",{children:"Albums"}),u&&s.jsx("button",{className:"create-album-btn",onClick:()=>v(!0),children:"Create Album"})]}),s.jsx("div",{className:"albums-grid",children:h.map(N=>s.jsxs("div",{className:"album-card",onClick:()=>$(N.id),children:[s.jsx("div",{className:"album-cover",children:N.images&&N.images.length>0?s.jsx("img",{src:`/api/images/${N.images[0].id}/thumbnail`,alt:N.name}):s.jsxs("div",{className:"album-placeholder",children:[N.image_count||0," images"]})}),s.jsxs("div",{className:"album-info",children:[s.jsx("h3",{children:N.name}),s.jsx("p",{children:N.description||"No description"}),s.jsxs("div",{className:"album-meta",children:[s.jsxs("span",{children:[N.image_count||0," images"]}),s.jsx("span",{className:"album-type",children:N.album_type||"manual"}),u&&s.jsx("button",{className:"delete-album-btn",onClick:_=>{_.stopPropagation(),A(N.id)},children:"Delete"})]})]})]},N.id))}),h.length===0&&s.jsx("div",{className:"empty-state",children:s.jsxs("p",{children:["No albums yet. ",u?"Create your first album!":"Albums will appear here."]})}),j&&s.jsx(gf,{onClose:()=>v(!1),onCreate:Y})]})},mf=({album:u,onBack:h,isAdmin:o,onRefresh:S,analytics:k,onRefreshAnalytics:j})=>{const{state:v,actions:L,isLoading:x}=pf({albumId:u.id,initialImages:u.images||[],onRefresh:S,onRefreshAnalytics:j}),{images:O,selectedImages:B,nsfwSetting:D,labelInputs:$,editingLabel:Y,labelError:A}=v;return s.jsxs("div",{className:"album-detail",children:[s.jsxs("div",{className:"album-detail-header",children:[s.jsx("button",{className:"back-btn",onClick:h,children:"← Back"}),s.jsx("h2",{children:u.name}),s.jsxs("div",{className:"nsfw-filter",children:[s.jsx("label",{children:"NSFW:"}),s.jsxs("select",{value:D,onChange:N=>L.setNsfwSetting(N.target.value),children:[s.jsx("option",{value:"hide",children:"Hide"}),s.jsx("option",{value:"blur",children:"Blur"}),s.jsx("option",{value:"show",children:"Show"})]})]}),o&&B.size>0&&s.jsxs("button",{className:"remove-images-btn",onClick:L.removeSelectedImages,children:["Remove ",B.size," images"]})]}),o&&A&&s.jsx("div",{className:"label-error",children:A}),o&&k&&s.jsxs("div",{className:"album-analytics",children:[s.jsxs("div",{className:"analytics-cards",children:[s.jsxs("div",{className:"analytics-card",children:[s.jsx("span",{className:"analytics-label",children:"Images"}),s.jsx("strong",{children:k.image_count})]}),s.jsxs("div",{className:"analytics-card",children:[s.jsx("span",{className:"analytics-label",children:"Labeled"}),s.jsxs("strong",{children:[k.images_with_labels,"/",k.image_count]}),s.jsxs("small",{children:[k.coverage.labels_percent,"%"]})]}),s.jsxs("div",{className:"analytics-card",children:[s.jsx("span",{className:"analytics-label",children:"Manual Coverage"}),s.jsxs("strong",{children:[k.coverage.manual_percent,"%"]})]}),s.jsxs("div",{className:"analytics-card",children:[s.jsx("span",{className:"analytics-label",children:"Avg. Labels/Image"}),s.jsx("strong",{children:k.average_labels_per_image})]}),s.jsxs("div",{className:"analytics-card",children:[s.jsx("span",{className:"analytics-label",children:"Unlabeled"}),s.jsx("strong",{children:k.unlabeled_images})]}),k.last_labeled_at&&s.jsxs("div",{className:"analytics-card",children:[s.jsx("span",{className:"analytics-label",children:"Last Labeled"}),s.jsx("strong",{children:new Date(k.last_labeled_at).toLocaleString()})]})]}),k.top_tags.length>0&&s.jsxs("div",{className:"analytics-top-tags",children:[s.jsx("h4",{children:"Top Tags"}),s.jsx("ul",{children:k.top_tags.map(N=>s.jsxs("li",{children:[s.jsx("span",{children:N.label_text}),s.jsx("span",{className:"tag-count",children:N.count})]},N.label_text))})]})]}),o&&s.jsx("div",{className:"album-actions",children:s.jsx(Bu,{albumId:u.id,onComplete:async()=>{await refreshAlbumData()}})}),s.jsx("div",{className:"album-description",children:s.jsx("p",{children:u.description||"No description"})}),s.jsx("div",{className:"album-images-grid",children:O.map(N=>{const _=N.labels??[],se=String(N.id),X=$[N.id]??"",w=Y&&Y.imageId===N.id?Y:null;return s.jsxs("div",{className:`image-card ${N.is_nsfw?"nsfw":""} ${D}`,onClick:()=>o&&L.toggleImageSelection(N.id),children:[o&&s.jsx("input",{type:"checkbox",checked:B.has(se),onChange:()=>L.toggleImageSelection(N.id),className:"image-checkbox"}),s.jsx("img",{src:`/api/images/${N.id}/thumbnail`,alt:N.filename,className:N.is_nsfw&&D==="blur"?"blurred":""}),N.is_nsfw&&s.jsx("div",{className:"nsfw-badge",children:"18+"}),_.length>0&&s.jsx("div",{className:"has-labels-badge",children:"🏷️"}),o&&s.jsxs(s.Fragment,{children:[s.jsx(Bu,{imageId:N.id,onComplete:async()=>{await S(),await j()},variant:"compact"}),s.jsxs("div",{className:"label-editor",children:[s.jsxs("div",{className:"label-chip-list",children:[_.length===0&&s.jsx("span",{className:"label-empty",children:"No labels yet."}),_.map(P=>{const z=w&&w.labelId===P.id,V=(P.label_type||"unknown").toLowerCase(),ae=V==="caption",G=x.deletingLabel(N.id,P.id);return s.jsx("div",{className:`label-chip label-type-${V} ${z?"editing":""}`,children:z?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",value:(w==null?void 0:w.value)??"",onChange:ne=>L.updateEditingLabel(ne.target.value),disabled:v.loadingStates.editingLabel}),s.jsxs("div",{className:"label-chip-actions",children:[s.jsx("button",{type:"button",onClick:L.saveEditedLabel,disabled:v.loadingStates.editingLabel||!((w==null?void 0:w.value)??"").trim(),children:v.loadingStates.editingLabel?"Saving...":"Save"}),s.jsx("button",{type:"button",onClick:L.cancelEditingLabel,disabled:v.loadingStates.editingLabel,children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:P.label_text}),s.jsxs("div",{className:"label-chip-actions",children:[!ae&&s.jsx("button",{type:"button",onClick:()=>L.startEditingLabel(N.id,P),disabled:v.loadingStates.editingLabel,children:"Edit"}),s.jsx("button",{type:"button",onClick:()=>L.deleteLabel(N.id,P.id),disabled:G,children:G?"Removing...":"Remove"})]})]})},P.id)})]}),s.jsxs("form",{className:"label-add-form",onSubmit:P=>{P.preventDefault(),L.addLabel(N.id)},children:[s.jsx("input",{type:"text",placeholder:"Add manual tag",value:X,onChange:P=>L.updateLabelInput(N.id,P.target.value),disabled:x.addingLabel(N.id)}),s.jsx("button",{type:"submit",disabled:x.addingLabel(N.id)||!X.trim(),children:x.addingLabel(N.id)?"Adding...":"Add"})]})]})]})]},N.id)})}),O.length===0&&s.jsx("div",{className:"empty-album",children:s.jsx("p",{children:"This album is empty."})})]})},gf=({onClose:u,onCreate:h})=>{const[o,S]=E.useState(""),[k,j]=E.useState(""),[v,L]=E.useState("manual"),x=O=>{O.preventDefault(),o.trim()&&h(o.trim(),k.trim(),v)};return s.jsx("div",{className:"dialog-overlay",onClick:u,children:s.jsxs("div",{className:"dialog",onClick:O=>O.stopPropagation(),children:[s.jsx("h2",{children:"Create Album"}),s.jsxs("form",{onSubmit:x,children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Album Name:"}),s.jsx("input",{type:"text",value:o,onChange:O=>S(O.target.value),placeholder:"Enter album name",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Description:"}),s.jsx("textarea",{value:k,onChange:O=>j(O.target.value),placeholder:"Enter album description (optional)",rows:3})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Album Type:"}),s.jsxs("select",{value:v,onChange:O=>L(O.target.value),children:[s.jsx("option",{value:"manual",children:"Manual Collection"}),s.jsx("option",{value:"batch",children:"Generated Batch"}),s.jsx("option",{value:"set",children:"CSV Set"})]})]}),s.jsxs("div",{className:"dialog-actions",children:[s.jsx("button",{type:"submit",children:"Create Album"}),s.jsx("button",{type:"button",onClick:u,children:"Cancel"})]})]})]})})};function Aa(u,h){const{interval:o,enabled:S=!0,pauseWhenHidden:k=!0,runImmediately:j=!1}=h,v=E.useRef(u),L=E.useRef(null),x=E.useRef(!0);E.useEffect(()=>{v.current=u},[u]),E.useEffect(()=>{if(!k)return;const B=()=>{const D=document.visibilityState==="visible";x.current=D,D&&S&&L.current===null?O():!D&&L.current!==null&&(clearInterval(L.current),L.current=null)};return document.addEventListener("visibilitychange",B),()=>{document.removeEventListener("visibilitychange",B)}},[k,S,o]);const O=E.useCallback(()=>{L.current!==null&&clearInterval(L.current),!(!S||k&&!x.current)&&(L.current=setInterval(()=>{(!k||x.current)&&v.current()},o))},[S,o,k]);E.useEffect(()=>(j&&S&&v.current(),O(),()=>{L.current!==null&&(clearInterval(L.current),L.current=null)}),[S,o,j,O])}const $u=u=>typeof u=="number"?Math.min(100,Math.max(0,u)):void 0,ba=u=>{if(typeof u!="number"||Number.isNaN(u))return"N/A";const h=u<10?1:0;return`${u.toLocaleString(void 0,{minimumFractionDigits:h,maximumFractionDigits:1})} GB`},vf=({isAdmin:u=!1})=>{const[h,o]=E.useState([]),[S,k]=E.useState(!1),[j,v]=E.useState(!1),[L,x]=E.useState(null),[O,B]=E.useState(null),D=E.useCallback(async()=>{if(u)try{const w=await fetch("/api/scraping/jobs",{credentials:"include"});if(w.ok){const P=await w.json();o(P.jobs||[]),x(null)}else w.status===401||w.status===403?(o([]),x("You need admin access to view scrape jobs.")):x("Failed to fetch scrape jobs")}catch(w){x("Error fetching scrape jobs"),le.error("Error fetching jobs:",w)}},[u]),$=E.useCallback(async()=>{if(u)try{const w=await fetch("/api/scraping/stats",{credentials:"include"});if(w.ok){const P=await w.json();B(P)}}catch(w){le.error("Error fetching stats:",w)}},[u]);E.useEffect(()=>{u&&(D().catch(w=>le.error("Error refreshing jobs:",w)),$().catch(w=>le.error("Error refreshing stats:",w)))},[D,$,u]);const Y=E.useCallback(async()=>{await Promise.all([D().catch(w=>le.error("Error refreshing jobs:",w)),$().catch(w=>le.error("Error refreshing stats:",w))])},[D,$]);Aa(Y,{interval:5e3,enabled:u,pauseWhenHidden:!0});const A=async(w,P,z,V,ae)=>{if(u){v(!0),x(null);try{const G=await fetch("/api/scraping/start",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({url:w,name:P,description:z,depth:V,max_images:ae})});if(G.ok)await G.json(),await D(),k(!1);else{const ne=await G.json();x(ne.error||"Failed to start scrape job")}}catch(G){x("Error starting scrape job"),le.error("Error starting scrape:",G)}finally{v(!1)}}},N=async w=>{if(u)try{(await fetch(`/api/scraping/jobs/${w}/cancel`,{method:"POST",credentials:"include"})).ok?await D():x("Failed to cancel job")}catch(P){x("Error cancelling job"),le.error("Error cancelling job:",P)}},_=async w=>{if(u)try{(await fetch(`/api/scraping/jobs/${w}/cleanup`,{method:"POST",credentials:"include"})).ok?await D():x("Failed to cleanup job")}catch(P){x("Error cleaning up job"),le.error("Error cleaning up job:",P)}},se=w=>{switch(w){case"pending":return"#f39c12";case"running":return"#3498db";case"completed":return"#27ae60";case"failed":return"#e74c3c";case"cancelled":return"#95a5a6";case"cleaned_up":return"#7f8c8d";default:return"#95a5a6"}},X=w=>w?new Date(w).toLocaleString():"N/A";return u?s.jsxs("div",{className:"scraping-tab",children:[s.jsxs("div",{className:"scraping-header",children:[s.jsx("h2",{children:"Web Scraping"}),u&&s.jsx("button",{className:"start-scrape-btn",onClick:()=>k(!0),disabled:j,children:j?"Starting...":"Start New Scrape"})]}),L&&s.jsx("div",{className:"error-message",children:L}),O&&s.jsxs("div",{className:"scraping-stats",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("h3",{children:"Total Jobs"}),s.jsx("span",{className:"stat-number",children:O.total_jobs})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("h3",{children:"Images Scraped"}),s.jsx("span",{className:"stat-number",children:O.total_images_scraped})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("h3",{children:"Recent Jobs (7 days)"}),s.jsx("span",{className:"stat-number",children:O.recent_jobs})]}),O.storage&&s.jsxs("div",{className:"stat-card storage-card",children:[s.jsx("h3",{children:"Storage Free"}),s.jsx("span",{className:"stat-number",children:ba(O.storage.free_gb)}),O.storage.error?s.jsx("div",{className:"storage-error",children:O.storage.error}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"storage-details",children:[ba(O.storage.used_gb)," used · ",ba(O.storage.total_gb)," total"]}),typeof O.storage.free_percent=="number"&&s.jsxs("div",{className:"storage-details",children:[O.storage.free_percent.toFixed(1),"% free"]})]}),s.jsx("div",{className:"storage-path",children:O.storage.path})]})]}),s.jsx("div",{className:"scrape-jobs-list",children:h.length===0?s.jsx("div",{className:"no-jobs",children:s.jsx("p",{children:"No scrape jobs found. Start a new scrape to begin collecting training data."})}):h.map(w=>{const P=w.runtime??{},z=w.url??w.source_url??"Unknown URL",V=w.output_dir??w.output_directory,ae=$u(w.progress)??$u(P.progress),G=w.progress_message??P.last_message??"";return s.jsxs("div",{className:`scrape-job-card status-${w.status}`,children:[s.jsxs("div",{className:"job-header",children:[s.jsx("h3",{children:z}),s.jsx("span",{className:"status-badge",style:{backgroundColor:se(w.status)},children:w.status})]}),s.jsxs("div",{className:"job-details",children:[s.jsxs("div",{className:"detail",children:[s.jsx("strong",{children:"URL:"}),s.jsx("a",{href:z,target:"_blank",rel:"noopener noreferrer",className:"job-url",children:z})]}),V&&s.jsxs("div",{className:"detail",children:[s.jsx("strong",{children:"Output Directory:"}),s.jsx("span",{children:V})]}),w.status==="running"&&s.jsxs("div",{className:"progress-section",children:[ae!==void 0&&s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:"progress-fill",style:{width:`${ae}%`}})}),(P.stage||G)&&s.jsxs("div",{className:"runtime-stage",children:[P.stage&&s.jsx("strong",{children:P.stage.charAt(0).toUpperCase()+P.stage.slice(1)}),G&&s.jsxs("span",{className:"runtime-message",children:[P.stage?" · ":"",G]})]}),(P.discovered!=null||P.downloaded!=null)&&s.jsxs("div",{className:"runtime-metrics",children:[P.discovered!=null&&s.jsxs("span",{children:["Links discovered: ",P.discovered]}),P.downloaded!=null&&s.jsxs("span",{children:["Images downloaded: ",P.downloaded]})]}),w.images_scraped!=null&&w.images_scraped>0&&s.jsx("div",{className:"stats",children:s.jsxs("span",{children:["Images scraped: ",w.images_scraped]})})]}),w.status==="completed"&&w.images_scraped!=null&&s.jsxs("div",{className:"completion-stats",children:[s.jsxs("div",{className:"success-message",children:["✓ Successfully scraped ",w.images_scraped," images"]}),V&&s.jsxs("div",{className:"output-info",children:["Output: ",V]})]}),w.status==="failed"&&w.error&&s.jsxs("div",{className:"error-details",children:[s.jsx("strong",{children:"Error:"}),s.jsx("span",{className:"error-text",children:w.error})]}),s.jsxs("div",{className:"job-meta",children:[s.jsxs("div",{className:"meta-item",children:[s.jsx("strong",{children:"Created:"})," ",X(w.created_at)]}),w.completed_at&&s.jsxs("div",{className:"meta-item",children:[s.jsx("strong",{children:"Completed:"})," ",X(w.completed_at)]}),P.updated_at&&s.jsxs("div",{className:"meta-item",children:[s.jsx("strong",{children:"Updated:"})," ",X(P.updated_at)]})]})]}),u&&s.jsxs("div",{className:"job-actions",children:[w.status==="running"&&s.jsx("button",{className:"cancel-btn",onClick:()=>N(w.id),children:"Cancel"}),(w.status==="completed"||w.status==="failed"||w.status==="cancelled")&&s.jsx("button",{className:"cleanup-btn",onClick:()=>_(w.id),children:"Cleanup"})]})]},w.id)})}),S&&s.jsx(yf,{onClose:()=>k(!1),onSubmit:A,loading:j})]}):s.jsx("div",{className:"scraping-tab",children:s.jsxs("div",{className:"scraping-access-message",children:[s.jsx("h2",{children:"Web Scraping"}),s.jsx("p",{children:"Admin access required to manage scraping jobs."})]})})},yf=({onClose:u,onSubmit:h,loading:o})=>{const[S,k]=E.useState(""),[j,v]=E.useState(""),[L,x]=E.useState(""),[O,B]=E.useState(3),[D,$]=E.useState(1e3),Y=A=>{if(A.preventDefault(),!S)return;const N=j||`Scrape ${S}`,_=L||`Web scraping job for ${S}`;h(S,N,_,O,D)};return s.jsx("div",{className:"dialog-overlay",onClick:u,children:s.jsxs("div",{className:"dialog",onClick:A=>A.stopPropagation(),children:[s.jsx("h2",{children:"Start Web Scrape"}),s.jsxs("form",{onSubmit:Y,children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"url",children:"URL to Scrape *"}),s.jsx("input",{id:"url",type:"url",value:S,onChange:A=>k(A.target.value),placeholder:"https://example.com/gallery",required:!0,disabled:o})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"name",children:"Job Name"}),s.jsx("input",{id:"name",type:"text",value:j,onChange:A=>v(A.target.value),placeholder:"Auto-generated from URL",disabled:o})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"description",children:"Description"}),s.jsx("textarea",{id:"description",value:L,onChange:A=>x(A.target.value),placeholder:"Optional description for this scraping job",rows:3,disabled:o})]}),s.jsxs("div",{className:"form-row",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"depth",children:"Max Depth"}),s.jsx("input",{id:"depth",type:"number",value:O,onChange:A=>B(parseInt(A.target.value)),min:"1",max:"10",disabled:o}),s.jsx("small",{children:"How many links deep to follow (1-10)"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"maxImages",children:"Max Images"}),s.jsx("input",{id:"maxImages",type:"number",value:D,onChange:A=>$(parseInt(A.target.value)),min:"1",max:"10000",disabled:o}),s.jsx("small",{children:"Maximum images to download (1-10000)"})]})]}),s.jsxs("div",{className:"dialog-actions",children:[s.jsx("button",{type:"submit",className:"submit-btn",disabled:o||!S,children:o?"Starting...":"Start Scrape"}),s.jsx("button",{type:"button",onClick:u,disabled:o,children:"Cancel"})]})]})]})})},xf=u=>typeof u!="number"?0:Math.min(100,Math.max(0,u)),jf=u=>{if(u){if(typeof u=="string")try{const h=JSON.parse(u);return h&&typeof h=="object"?h:void 0}catch{return}if(typeof u=="object")return u}},wf=({isAdmin:u=!1})=>{const[h,o]=E.useState([]),[S,k]=E.useState([]),[j,v]=E.useState(!0),[L,x]=E.useState(null),[O,B]=E.useState(!1),[D,$]=E.useState({runId:null,content:"",status:null,logAvailable:!1,logPath:"",loading:!1,error:null}),Y=E.useRef(null),[A,N]=E.useState(null),[_,se]=E.useState({name:"",description:"",album_ids:[],config:{steps:1e3,rank:4,learning_rate:1e-4,batch_size:1}}),X=E.useCallback(async()=>{if(u)try{v(!0);const Q=await(await fetch("/api/training",{credentials:"include"})).json();o(Q.training_runs||[])}catch(I){x("Failed to fetch training runs"),le.error("Error fetching training runs:",I)}finally{v(!1)}},[u]),w=E.useCallback(async()=>{if(u)try{const Q=await(await fetch("/api/training/albums",{credentials:"include"})).json();k(Q.albums||[])}catch(I){le.error("Error fetching albums:",I)}},[u]);E.useEffect(()=>{if(!u){v(!1);return}X().catch(I=>le.error("Error refreshing runs:",I)),w().catch(I=>le.error("Error refreshing albums:",I))},[w,X,u]);const P=E.useCallback(async I=>{const Q=String(I);$(re=>({...re,loading:!0,error:null}));try{const re=await fetch(`/api/training/${Q}/logs?tail=500`,{credentials:"include"});if(!re.ok)throw new Error(`Failed to fetch logs (status ${re.status})`);const M=await re.json();$(q=>({...q,runId:Q,loading:!1,content:M.logs??"",status:M.status,logAvailable:M.log_available,logPath:M.log_path,error:null})),["running","queued"].includes(M.status)||$(q=>({...q,runId:null}))}catch(re){const M=re instanceof Error?re.message:"Failed to load logs";$(q=>({...q,loading:!1,error:M}))}},[]),z=E.useCallback(I=>{const Q=String(I);$({runId:Q,content:"",status:null,logAvailable:!1,logPath:"",loading:!0,error:null}),P(Q).catch(re=>{const M=re instanceof Error?re.message:"Failed to load logs";$(q=>({...q,loading:!1,error:M}))})},[P]),V=E.useCallback(async()=>{D.runId&&await P(D.runId).catch(I=>{const Q=I instanceof Error?I.message:"Failed to load logs";$(re=>({...re,loading:!1,error:Q}))})},[D.runId,P]);Aa(V,{interval:5e3,enabled:D.runId!==null,pauseWhenHidden:!0}),E.useEffect(()=>()=>{Y.current&&window.clearTimeout(Y.current)},[]);const ae=E.useCallback(()=>{$({runId:null,content:"",status:null,logAvailable:!1,logPath:"",loading:!1,error:null})},[]),G=E.useCallback((I,Q,re)=>{var W;if(!I)return;const M=String(Q),q=()=>{const p=document.createElement("textarea");p.value=I,p.style.position="fixed",p.style.opacity="0",document.body.appendChild(p),p.select();try{document.execCommand("copy")}finally{document.body.removeChild(p)}};(W=navigator==null?void 0:navigator.clipboard)!=null&&W.writeText?navigator.clipboard.writeText(I).catch(q):q(),Y.current&&window.clearTimeout(Y.current),N({runId:M,field:re}),Y.current=window.setTimeout(()=>{N(null),Y.current=null},2e3)},[]),ne=async I=>{if(I.preventDefault(),!!u)try{const Q=await fetch("/api/training",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(_)});if(Q.ok)B(!1),se({name:"",description:"",album_ids:[],config:{steps:1e3,rank:4,learning_rate:1e-4,batch_size:1}}),X();else{const re=await Q.json();x(re.error||"Failed to create training run")}}catch(Q){x("Failed to create training run"),le.error("Error creating training run:",Q)}},ce=async I=>{if(u)try{const Q=await fetch(`/api/training/${String(I)}/start`,{method:"POST",credentials:"include"});if(Q.ok)X();else{const re=await Q.json();x(re.error||"Failed to start training")}}catch(Q){x("Failed to start training"),le.error("Error starting training:",Q)}},ue=async I=>{if(u)try{const Q=await fetch(`/api/training/${String(I)}/cancel`,{method:"POST",credentials:"include"});if(Q.ok)X();else{const re=await Q.json();x(re.error||"Failed to cancel training")}}catch(Q){x("Failed to cancel training"),le.error("Error cancelling training:",Q)}},xe=async I=>{if(u)try{const Q=await fetch(`/api/training/${String(I)}/cleanup`,{method:"POST",credentials:"include"});if(Q.ok)X();else{const re=await Q.json();x(re.error||"Failed to cleanup training")}}catch(Q){x("Failed to cleanup training"),le.error("Error cleaning up training:",Q)}},we=I=>{switch(I){case"completed":return"#4CAF50";case"running":return"#2196F3";case"failed":return"#F44336";case"cancelled":return"#FF9800";case"queued":return"#FFC107";default:return"#9E9E9E"}},be=I=>I?new Date(I).toLocaleString():"N/A";return u?j?s.jsx("div",{className:"training-tab",children:s.jsx("div",{className:"loading",children:"Loading training runs..."})}):s.jsxs("div",{className:"training-tab",children:[s.jsxs("div",{className:"training-header",children:[s.jsx("h2",{children:"LoRA Training Pipeline"}),u&&s.jsx("button",{className:"create-button",onClick:()=>B(!0),children:"Create Training Run"})]}),L&&s.jsxs("div",{className:"error-message",children:[L,s.jsx("button",{onClick:()=>x(null),children:"×"})]}),s.jsx("div",{className:"training-runs",children:h.length===0?s.jsx("div",{className:"no-runs",children:s.jsxs("p",{children:["No training runs found. ",u&&"Create your first training run to get started!"]})}):h.map(I=>{const Q=jf(I.training_config),re=Array.isArray(Q==null?void 0:Q.album_ids)?Q==null?void 0:Q.album_ids:void 0,M=String(I.id),q=I.error_message??I.error??null,W=xf(I.progress);return s.jsxs("div",{className:"training-run-card",children:[s.jsxs("div",{className:"run-header",children:[s.jsx("h3",{children:I.name||`Training run ${M}`}),s.jsx("span",{className:"status-badge",style:{backgroundColor:we(I.status)},children:I.status.toUpperCase()})]}),I.description&&s.jsx("p",{className:"run-description",children:I.description}),s.jsxs("div",{className:"run-details",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Progress:"})," ",W,"%"]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Created:"})," ",be(I.created_at)]}),I.started_at&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Started:"})," ",be(I.started_at)]}),I.completed_at&&s.jsxs("div",{className:"detail-item",children:[s.jsx("strong",{children:"Completed:"})," ",be(I.completed_at)]})]}),I.status==="running"&&typeof I.progress=="number"&&s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:"progress-fill",style:{width:`${W}%`}})}),s.jsxs("div",{className:"asset-section",children:[s.jsxs("div",{className:"asset-item",children:[s.jsxs("div",{className:"asset-header",children:[s.jsx("strong",{children:"Dataset directory"}),s.jsx("button",{type:"button",className:"copy-button",onClick:()=>G(I.dataset_path??"",I.id,"dataset"),children:"Copy"}),(A==null?void 0:A.runId)===M&&(A==null?void 0:A.field)==="dataset"&&s.jsx("span",{className:"copy-feedback",children:"Copied!"})]}),s.jsx("code",{children:I.dataset_path||"Unavailable"})]}),s.jsxs("div",{className:"asset-item",children:[s.jsxs("div",{className:"asset-header",children:[s.jsx("strong",{children:"Output directory"}),s.jsx("button",{type:"button",className:"copy-button",onClick:()=>G(I.output_path??"",I.id,"output"),children:"Copy"}),(A==null?void 0:A.runId)===M&&(A==null?void 0:A.field)==="output"&&s.jsx("span",{className:"copy-feedback",children:"Copied!"})]}),s.jsx("code",{children:I.output_path||"Unavailable"})]}),s.jsxs("div",{className:"asset-item",children:[s.jsxs("div",{className:"asset-header",children:[s.jsx("strong",{children:"Final checkpoint"}),I.final_checkpoint&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",className:"copy-button",onClick:()=>G(I.final_checkpoint||"",I.id,"checkpoint"),children:"Copy"}),(A==null?void 0:A.runId)===M&&(A==null?void 0:A.field)==="checkpoint"&&s.jsx("span",{className:"copy-feedback",children:"Copied!"})]})]}),s.jsx("code",{children:I.final_checkpoint??"Generated after completion"})]}),Q&&s.jsxs("div",{className:"asset-item",children:[s.jsx("div",{className:"asset-header",children:s.jsx("strong",{children:"Training configuration"})}),s.jsxs("div",{className:"config-summary",children:[typeof Q.steps=="number"&&s.jsxs("span",{children:["Steps: ",Q.steps]}),typeof Q.rank=="number"&&s.jsxs("span",{children:["Rank: ",Q.rank]}),typeof Q.learning_rate=="number"&&s.jsxs("span",{children:["Learning rate: ",Q.learning_rate]}),typeof Q.batch_size=="number"&&s.jsxs("span",{children:["Batch size: ",Q.batch_size]}),re&&re.length>0&&s.jsxs("span",{children:["Albums: ",re.join(", ")]})]})]})]}),q&&s.jsxs("div",{className:"error-details",children:[s.jsx("strong",{children:"Error:"})," ",q]}),u&&s.jsxs("div",{className:"run-actions",children:[I.status==="queued"&&s.jsx("button",{className:"action-button start",onClick:()=>ce(I.id),children:"Start Training"}),(I.status==="queued"||I.status==="running")&&s.jsx("button",{className:"action-button cancel",onClick:()=>ue(I.id),children:"Cancel"}),(I.status==="completed"||I.status==="failed")&&s.jsx("button",{className:"action-button cleanup",onClick:()=>xe(I.id),children:"Cleanup"}),s.jsx("button",{className:"action-button logs",onClick:()=>z(I.id),children:"View Logs"})]})]},I.id)})}),O&&s.jsx("div",{className:"dialog-overlay",children:s.jsxs("div",{className:"dialog",children:[s.jsxs("div",{className:"dialog-header",children:[s.jsx("h3",{children:"Create Training Run"}),s.jsx("button",{className:"close-button",onClick:()=>B(!1),children:"×"})]}),s.jsxs("form",{onSubmit:ne,className:"training-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"name",children:"Name *"}),s.jsx("input",{type:"text",id:"name",value:_.name,onChange:I=>se({..._,name:I.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"description",children:"Description"}),s.jsx("textarea",{id:"description",value:_.description,onChange:I=>se({..._,description:I.target.value}),rows:3})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Training Albums *"}),s.jsx("div",{className:"album-selection",children:S.map(I=>s.jsxs("label",{className:"album-checkbox",children:[s.jsx("input",{type:"checkbox",checked:_.album_ids.includes(I.id),onChange:Q=>{Q.target.checked?se({..._,album_ids:[..._.album_ids,I.id]}):se({..._,album_ids:_.album_ids.filter(re=>re!==I.id)})}}),s.jsx("span",{children:I.name})]},I.id))})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"steps",children:"Training Steps"}),s.jsx("input",{type:"number",id:"steps",value:_.config.steps,onChange:I=>se({..._,config:{..._.config,steps:parseInt(I.target.value)}}),min:"100",max:"10000"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"rank",children:"LoRA Rank"}),s.jsx("input",{type:"number",id:"rank",value:_.config.rank,onChange:I=>se({..._,config:{..._.config,rank:parseInt(I.target.value)}}),min:"1",max:"64"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"learning_rate",children:"Learning Rate"}),s.jsx("input",{type:"number",id:"learning_rate",value:_.config.learning_rate,onChange:I=>se({..._,config:{..._.config,learning_rate:parseFloat(I.target.value)}}),step:"0.0001",min:"0.0001",max:"0.01"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"batch_size",children:"Batch Size"}),s.jsx("input",{type:"number",id:"batch_size",value:_.config.batch_size,onChange:I=>se({..._,config:{..._.config,batch_size:parseInt(I.target.value)}}),min:"1",max:"8"})]}),s.jsxs("div",{className:"form-actions",children:[s.jsx("button",{type:"button",onClick:()=>B(!1),children:"Cancel"}),s.jsx("button",{type:"submit",disabled:_.album_ids.length===0,children:"Create Training Run"})]})]})]})}),D.runId&&s.jsx("div",{className:"dialog-overlay",role:"dialog","aria-modal":"true",children:s.jsxs("div",{className:"dialog log-dialog",children:[s.jsxs("div",{className:"dialog-header",children:[s.jsx("h3",{children:"Training Logs"}),s.jsx("button",{className:"close-button",onClick:ae,"aria-label":"Close logs",children:"×"})]}),s.jsxs("div",{className:"log-meta",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Run ID:"})," ",D.runId]}),D.status&&s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",D.status.toUpperCase()]}),D.logPath&&s.jsxs("div",{className:"log-path",children:[s.jsx("strong",{children:"Log file:"})," ",D.logPath]})]}),s.jsx("div",{className:"log-body",children:D.loading?s.jsx("div",{className:"log-loading",children:"Loading logs..."}):D.error?s.jsx("div",{className:"log-error",children:D.error}):D.logAvailable?s.jsx("pre",{className:"log-content",children:D.content||"No log output yet."}):s.jsx("div",{className:"log-empty",children:"Logs are not available yet for this run."})})]})})]}):s.jsx("div",{className:"training-tab",children:s.jsxs("div",{className:"training-access-message",children:[s.jsx("h2",{children:"LoRA Training"}),s.jsx("p",{children:"Sign in with an admin account to manage training runs."})]})})},Sf=()=>{const[u,h]=E.useState([]),[o,S]=E.useState(!0),[k,j]=E.useState(null),[v,L]=E.useState(null);E.useEffect(()=>{x()},[]);const x=async()=>{S(!0),j(null);try{const B=await fetch("/api/loras");if(!B.ok)throw new Error("Failed to fetch LoRAs");const D=await B.json();h(D.loras||[])}catch(B){le.error("Failed to fetch LoRAs:",B),j(B instanceof Error?B.message:"Unknown error")}finally{S(!1)}},O=B=>{L((v==null?void 0:v.folder)===B.folder?null:B)};return o?s.jsx("div",{className:"loras-tab",children:s.jsx("div",{className:"loras-loading",children:s.jsx("p",{children:"Loading LoRAs..."})})}):k?s.jsx("div",{className:"loras-tab",children:s.jsxs("div",{className:"loras-error",children:[s.jsxs("p",{children:["❌ ",k]}),s.jsx("button",{onClick:x,className:"retry-button",children:"Retry"})]})}):s.jsxs("div",{className:"loras-tab",children:[s.jsxs("div",{className:"loras-header",children:[s.jsx("h2",{children:"🎨 LoRA Models"}),s.jsxs("div",{className:"loras-stats",children:[s.jsxs("span",{className:"stat",children:[u.length," models"]}),s.jsx("button",{onClick:x,className:"refresh-button",title:"Refresh",children:"🔄"})]})]}),u.length===0?s.jsx("div",{className:"loras-empty",children:s.jsx("p",{children:"No LoRAs found. Add .safetensors files to the LoRA directory."})}):s.jsx("div",{className:"loras-list",children:u.map(B=>s.jsxs("div",{className:`lora-item ${(v==null?void 0:v.folder)===B.folder?"selected":""}`,onClick:()=>O(B),children:[s.jsxs("div",{className:"lora-item-content",children:[B.has_preview?s.jsx("div",{className:"lora-thumbnail",children:s.jsx("img",{src:`/api/loras/${B.folder}/preview`,alt:B.filename,loading:"lazy"})}):s.jsx("div",{className:"lora-thumbnail lora-no-thumbnail",children:s.jsx("span",{children:"🎨"})}),s.jsxs("div",{className:"lora-main-info",children:[s.jsx("h3",{className:"lora-title",title:B.filename,children:B.folder.replace(/_/g," ")}),s.jsx("div",{className:"lora-subtitle",children:s.jsx("span",{className:"lora-filename",children:B.filename})})]}),s.jsxs("div",{className:"lora-badges",children:[s.jsx("span",{className:"badge badge-format",children:B.format||"SD1.5"}),B.default_weight&&s.jsxs("span",{className:"badge badge-weight",children:["Weight: ",B.default_weight]}),B.has_preview&&s.jsx("span",{className:"badge badge-success",children:"✓ Preview"})]})]}),(v==null?void 0:v.folder)===B.folder&&s.jsx("div",{className:"lora-expanded-details",children:s.jsxs("div",{className:"details-grid",children:[s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Filename:"}),s.jsx("span",{className:"detail-value",children:B.filename})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Folder:"}),s.jsx("span",{className:"detail-value",children:B.folder})]}),s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Format:"}),s.jsx("span",{className:"detail-value",children:B.format||"SD1.5"})]}),B.default_weight&&s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Default Weight:"}),s.jsx("span",{className:"detail-value",children:B.default_weight})]}),B.organized_at&&s.jsxs("div",{className:"detail-item",children:[s.jsx("span",{className:"detail-label",children:"Organized:"}),s.jsx("span",{className:"detail-value",children:new Date(B.organized_at).toLocaleString()})]})]})})]},B.folder))})]})},Nf=()=>{const[u,h]=E.useState(null),[o,S]=E.useState(!0),k=E.useCallback(async()=>{try{const O=await(await fetch("/api/jobs")).json();h(O)}catch(x){le.error("Failed to fetch queue data:",x)}},[]);E.useEffect(()=>{k()},[k]),Aa(k,{interval:2e3,enabled:o,pauseWhenHidden:!0});const j=x=>x?new Date(x).toLocaleString():"-",v=(x,O)=>{if(!x||!O)return"-";const B=new Date(x),D=new Date(O);return`${Math.floor((D.getTime()-B.getTime())/1e3)}s`},L=x=>{const O=`status-badge status-${x}`;return s.jsx("span",{className:O,children:x})};return u?s.jsxs("div",{className:"queue-tab",children:[s.jsxs("div",{className:"queue-header",children:[s.jsx("h2",{children:"Job Queue"}),s.jsxs("div",{className:"queue-controls",children:[s.jsxs("label",{className:"auto-refresh-toggle",children:[s.jsx("input",{type:"checkbox",checked:o,onChange:x=>S(x.target.checked)}),"Auto-refresh"]}),s.jsx("button",{onClick:k,className:"refresh-button",children:"🔄 Refresh"})]})]}),s.jsxs("section",{className:"queue-section",children:[s.jsx("h3",{children:"Currently Running"}),u.current?s.jsxs("div",{className:"job-card current-job",children:[s.jsxs("div",{className:"job-header",children:[s.jsxs("span",{className:"job-id",children:["Job #",u.current.id]}),L("running")]}),s.jsxs("div",{className:"job-details",children:[s.jsxs("div",{className:"job-field",children:[s.jsx("strong",{children:"Prompt:"}),s.jsx("span",{children:u.current.prompt})]}),u.current.lora_paths&&u.current.lora_paths.length>0&&s.jsxs("div",{className:"job-field",children:[s.jsx("strong",{children:"LoRAs:"}),s.jsxs("span",{children:[u.current.lora_paths.length," loaded"]})]}),s.jsxs("div",{className:"job-field",children:[s.jsx("strong",{children:"Started:"}),s.jsx("span",{children:j(u.current.started_at)})]}),s.jsxs("div",{className:"job-field",children:[s.jsx("strong",{children:"Settings:"}),s.jsxs("span",{children:[u.current.width,"×",u.current.height,", ",u.current.steps," steps"]})]})]})]}):s.jsx("div",{className:"empty-state",children:"No job currently running"})]}),s.jsxs("section",{className:"queue-section",children:[s.jsxs("h3",{children:["Queued Jobs",u.queue&&u.queue.length>0&&s.jsx("span",{className:"count-badge",children:u.queue.length})]}),u.queue&&u.queue.length>0?s.jsx("div",{className:"job-list",children:u.queue.map((x,O)=>s.jsxs("div",{className:"job-card queued-job",children:[s.jsxs("div",{className:"job-header",children:[s.jsxs("span",{className:"job-id",children:["#",O+1," - Job #",x.id]}),L("queued")]}),s.jsxs("div",{className:"job-details",children:[s.jsxs("div",{className:"job-field",children:[s.jsx("strong",{children:"Prompt:"}),s.jsx("span",{children:x.prompt})]}),x.lora_paths&&x.lora_paths.length>0&&s.jsxs("div",{className:"job-field",children:[s.jsx("strong",{children:"LoRAs:"}),s.jsxs("span",{children:[x.lora_paths.length," loaded"]})]}),s.jsxs("div",{className:"job-field",children:[s.jsx("strong",{children:"Submitted:"}),s.jsx("span",{children:j(x.submitted_at)})]})]})]},x.id))}):s.jsx("div",{className:"empty-state",children:"No jobs in queue"})]}),s.jsxs("section",{className:"queue-section",children:[s.jsxs("h3",{children:["Recent History",u.history&&u.history.length>0&&s.jsx("span",{className:"count-badge",children:u.history.length})]}),u.history&&u.history.length>0?s.jsx("div",{className:"job-list history-list",children:u.history.slice(0,10).map(x=>s.jsxs("div",{className:`job-card history-job status-${x.status}`,children:[s.jsxs("div",{className:"job-header",children:[s.jsxs("span",{className:"job-id",children:["Job #",x.id]}),L(x.status),s.jsx("span",{className:"job-duration",children:v(x.started_at,x.completed_at)})]}),s.jsxs("div",{className:"job-details",children:[s.jsxs("div",{className:"job-field",children:[s.jsx("strong",{children:"Prompt:"}),s.jsx("span",{children:x.prompt})]}),x.output_path&&x.status==="completed"&&s.jsxs("div",{className:"job-field",children:[s.jsx("strong",{children:"Output:"}),s.jsx("span",{className:"output-path",children:x.output_path.split("/").pop()})]}),x.error&&s.jsxs("div",{className:"job-field error",children:[s.jsx("strong",{children:"Error:"}),s.jsx("span",{children:x.error})]}),s.jsxs("div",{className:"job-field",children:[s.jsx("strong",{children:"Completed:"}),s.jsx("span",{children:j(x.completed_at)})]})]})]},`${x.id}-${x.completed_at}`))}):s.jsx("div",{className:"empty-state",children:"No completed jobs yet"})]})]}):s.jsx("div",{className:"queue-tab loading",children:"Loading queue data..."})};class cn extends E.Component{constructor(o){super(o);Sr(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});Sr(this,"handleReload",()=>{window.location.reload()});Sr(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(o){return{hasError:!0,error:o}}componentDidCatch(o,S){const{boundaryName:k,onError:j}=this.props;le.error("React Error Boundary caught an error",o,{boundaryName:k||"Unknown",componentStack:S.componentStack}),this.setState({errorInfo:S}),j&&j(o,S)}render(){const{hasError:o,error:S,errorInfo:k}=this.state,{children:j,fallback:v,boundaryName:L}=this.props;return o&&S?v||s.jsx("div",{className:"error-boundary",children:s.jsxs("div",{className:"error-boundary-content",children:[s.jsx("div",{className:"error-icon",children:"⚠️"}),s.jsx("h1",{className:"error-title",children:"Oops! Something went wrong"}),s.jsx("p",{className:"error-message",children:L?`An error occurred in ${L}. Don't worry, your other tabs are still working.`:"An unexpected error occurred. The rest of the app should still work normally."}),s.jsxs("div",{className:"error-actions",children:[s.jsx("button",{className:"error-button primary",onClick:this.handleReset,type:"button",children:"Try Again"}),s.jsx("button",{className:"error-button secondary",onClick:this.handleReload,type:"button",children:"Reload Page"}),s.jsx("button",{className:"error-button secondary",onClick:this.handleGoHome,type:"button",children:"Go Home"})]}),!1,s.jsx("p",{className:"error-footer",children:"If this problem persists, please contact support with the error details above."})]})}):j}}const dn=u=>typeof u=="object"&&u!==null,kf=()=>{const[u,h]=E.useState(null),[o,S]=E.useState([]),[k,j]=E.useState(!1),[v,L]=E.useState(null),[x,O]=E.useState(null),[B,D]=E.useState([]),[$,Y]=E.useState("generate"),[A,N]=E.useState(null),_=[{id:"generate",label:"Generate",icon:"✨"},{id:"gallery",label:"Gallery",icon:"🖼️"},{id:"albums",label:"Albums",icon:"📁"},{id:"scraping",label:"Scraping",icon:"🕷️"},{id:"training",label:"Training",icon:"🚀"},{id:"queue",label:"Queue",icon:"📋"},{id:"loras",label:"LoRAs",icon:"🎨"}];E.useEffect(()=>{X(),w(),P(),se()},[]);const se=async()=>{try{const ne=await(await fetch("/api/auth/me",{credentials:"include"})).json();ne.authenticated?N(ne):N(null)}catch(G){le.error("Failed to check auth",G),N(null)}},X=async()=>{try{const ne=await(await fetch("/api/config")).json();h(dn(ne)?ne:null)}catch(G){le.error("Failed to fetch config",G)}},w=async()=>{try{const ne=await(await fetch("/api/outputs")).json();let ce=[];if(dn(ne)){const ue=ne.images;Array.isArray(ue)&&(ce=ue)}S(ce)}catch(G){le.error("Failed to fetch images",G)}},P=async()=>{try{const ne=await(await fetch("/api/batches")).json();let ce=[];if(dn(ne)){const ue=ne.batches;Array.isArray(ue)&&(ce=ue)}D(ce)}catch(G){le.error("Failed to fetch batches",G)}},z=async G=>{j(!0),O(null);try{const ne=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(ne.status===201){const ce=await ne.json();if(!dn(ce))throw new Error("Invalid job response");const ue=ce;L(ue),O(ue.queue_position??null),ae(ue.id)}else{const ce=await ne.json(),ue=dn(ce)&&typeof ce.error=="string"?ce.error:"Unknown error";alert(`Failed to submit job: ${ue}`),j(!1)}}catch(ne){le.error("Failed to generate",ne),alert("Error submitting job"),j(!1)}},V=async G=>{j(!0);try{const ne=await fetch("/api/generate/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(ne.status===201){const ce=await ne.json();dn(ce)&&typeof ce.total_jobs=="number"?alert(`Batch generation started!
${ce.total_jobs} jobs queued for ${String(ce.set_name??"unknown set")}`):alert("Batch generation started!"),P().catch(ue=>le.error("Failed to refresh batches",ue)),Y("gallery")}else{const ce=await ne.json(),ue=dn(ce)&&typeof ce.error=="string"?ce.error:"Unknown error";alert(`Failed to submit batch: ${ue}`)}}catch(ne){le.error("Failed to generate batch",ne),alert("Error submitting batch")}finally{j(!1)}},ae=G=>{const ne=async()=>{try{const ue=await(await fetch(`/api/jobs/${G}`)).json(),xe=typeof ue.queue_position=="number"?ue.queue_position:null;O(xe),ue.status==="completed"?(j(!1),L(null),O(null),w().catch(we=>le.error("Failed to refresh images",we)),P().catch(we=>le.error("Failed to refresh batches",we))):ue.status==="failed"?(j(!1),L(null),O(null),alert(`Generation failed: ${ue.error??"Unknown error"}`)):ue.status==="cancelled"?(j(!1),L(null),O(null),alert("Job was cancelled")):setTimeout(ne,2e3)}catch(ce){le.error("Error checking job status",ce),j(!1),L(null),O(null)}};ne()};return s.jsxs("div",{className:"App",children:[s.jsx("header",{className:"header",children:s.jsxs("div",{className:"header-content",children:[s.jsxs("div",{className:"header-title",children:[s.jsx("h1",{children:"✨ Imagineer"}),s.jsx("p",{children:"AI Image Generation Toolkit"})]}),s.jsx(rf,{onAuthChange:N})]})}),s.jsxs("div",{className:"container",children:[s.jsx(lf,{tabs:_,activeTab:$,onTabChange:Y}),s.jsxs("div",{className:"main-content",children:[$==="generate"&&s.jsx(cn,{boundaryName:"Generate Tab",children:s.jsx(af,{config:u,loading:k,queuePosition:x,currentJob:v,onGenerate:z,onGenerateBatch:V})}),$==="gallery"&&s.jsx(cn,{boundaryName:"Gallery Tab",children:s.jsx(df,{batches:B,images:o,onRefreshImages:w,onRefreshBatches:P})}),$==="albums"&&s.jsx(cn,{boundaryName:"Albums Tab",children:s.jsx(hf,{isAdmin:(A==null?void 0:A.role)==="admin"})}),$==="scraping"&&s.jsx(cn,{boundaryName:"Scraping Tab",children:s.jsx(vf,{isAdmin:(A==null?void 0:A.role)==="admin"})}),$==="training"&&s.jsx(cn,{boundaryName:"Training Tab",children:s.jsx(wf,{isAdmin:(A==null?void 0:A.role)==="admin"})}),$==="queue"&&s.jsx(cn,{boundaryName:"Queue Tab",children:s.jsx(Nf,{})}),$==="loras"&&s.jsx(cn,{boundaryName:"LoRAs Tab",children:s.jsx(Sf,{})})]})]})]})},Wu=document.getElementById("root");if(!Wu)throw new Error("Root element not found");ef.createRoot(Wu).render(s.jsx(Qd.StrictMode,{children:s.jsx(kf,{})}));
