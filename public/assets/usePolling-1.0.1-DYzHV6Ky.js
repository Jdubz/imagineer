import{r}from"./index-1.0.1-2Be6sSou.js";function b(l,v){const{interval:u,enabled:t=!0,pauseWhenHidden:n=!0,runImmediately:f=!1}=v,s=r.useRef(l),e=r.useRef(null),c=r.useRef(!0);r.useEffect(()=>{s.current=l},[l]);const i=r.useCallback(()=>{e.current!==null&&clearInterval(e.current),!(!t||n&&!c.current)&&(e.current=setInterval(()=>{(!n||c.current)&&s.current()},u))},[t,u,n]);r.useEffect(()=>{if(!n)return;const o=()=>{const a=document.visibilityState==="visible";c.current=a,a&&t&&e.current===null?i():!a&&e.current!==null&&(clearInterval(e.current),e.current=null)};return document.addEventListener("visibilitychange",o),()=>{document.removeEventListener("visibilitychange",o)}},[n,t,u,i]),r.useEffect(()=>(f&&t&&s.current(),i(),()=>{e.current!==null&&(clearInterval(e.current),e.current=null)}),[t,u,f,i])}export{b as u};
