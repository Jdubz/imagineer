import{r as l,l as j,j as e}from"./index-1.0.1-2Be6sSou.js";const N=()=>{const[i,c]=l.useState([]),[o,t]=l.useState(!0),[r,n]=l.useState(null),[a,h]=l.useState(null);l.useEffect(()=>{d()},[]);const d=async()=>{t(!0),n(null);try{const s=await fetch("/api/loras");if(!s.ok)throw new Error("Failed to fetch LoRAs");const x=await s.json();c(x.loras||[])}catch(s){j.error("Failed to fetch LoRAs:",s),n(s instanceof Error?s.message:"Unknown error")}finally{t(!1)}},m=s=>{h((a==null?void 0:a.folder)===s.folder?null:s)};return o?e.jsx("div",{className:"loras-tab",children:e.jsx("div",{className:"loras-loading",children:e.jsx("p",{children:"Loading LoRAs..."})})}):r?e.jsx("div",{className:"loras-tab",children:e.jsxs("div",{className:"loras-error",children:[e.jsxs("p",{children:["❌ ",r]}),e.jsx("button",{onClick:d,className:"retry-button",children:"Retry"})]})}):e.jsxs("div",{className:"loras-tab",children:[e.jsxs("div",{className:"loras-header",children:[e.jsx("h2",{children:"🎨 LoRA Models"}),e.jsxs("div",{className:"loras-stats",children:[e.jsxs("span",{className:"stat",children:[i.length," models"]}),e.jsx("button",{onClick:d,className:"refresh-button",title:"Refresh",children:"🔄"})]})]}),i.length===0?e.jsx("div",{className:"loras-empty",children:e.jsx("p",{children:"No LoRAs found. Add .safetensors files to the LoRA directory."})}):e.jsx("div",{className:"loras-list",children:i.map(s=>e.jsxs("div",{className:`lora-item ${(a==null?void 0:a.folder)===s.folder?"selected":""}`,onClick:()=>m(s),children:[e.jsxs("div",{className:"lora-item-content",children:[s.has_preview?e.jsx("div",{className:"lora-thumbnail",children:e.jsx("img",{src:`/api/loras/${s.folder}/preview`,alt:s.filename,loading:"lazy"})}):e.jsx("div",{className:"lora-thumbnail lora-no-thumbnail",children:e.jsx("span",{children:"🎨"})}),e.jsxs("div",{className:"lora-main-info",children:[e.jsx("h3",{className:"lora-title",title:s.filename,children:s.folder.replace(/_/g," ")}),e.jsx("div",{className:"lora-subtitle",children:e.jsx("span",{className:"lora-filename",children:s.filename})})]}),e.jsxs("div",{className:"lora-badges",children:[e.jsx("span",{className:"badge badge-format",children:s.format||"SD1.5"}),s.default_weight&&e.jsxs("span",{className:"badge badge-weight",children:["Weight: ",s.default_weight]}),s.has_preview&&e.jsx("span",{className:"badge badge-success",children:"✓ Preview"})]})]}),(a==null?void 0:a.folder)===s.folder&&e.jsx("div",{className:"lora-expanded-details",children:e.jsxs("div",{className:"details-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Filename:"}),e.jsx("span",{className:"detail-value",children:s.filename})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Folder:"}),e.jsx("span",{className:"detail-value",children:s.folder})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Format:"}),e.jsx("span",{className:"detail-value",children:s.format||"SD1.5"})]}),s.default_weight&&e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Default Weight:"}),e.jsx("span",{className:"detail-value",children:s.default_weight})]}),s.organized_at&&e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{className:"detail-label",children:"Organized:"}),e.jsx("span",{className:"detail-value",children:new Date(s.organized_at).toLocaleString()})]})]})})]},s.folder))})]})};export{N as default};
